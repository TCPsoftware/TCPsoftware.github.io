<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hi, I&#39;m Cortana.</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.tcpsoft.app/"/>
  <updated>2020-02-13T14:31:33.177Z</updated>
  <id>https://blog.tcpsoft.app/</id>
  
  <author>
    <name>tcpsoft</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>无中生有访问 Google</title>
    <link href="https://blog.tcpsoft.app/2020/02/access-google-from-nothing/"/>
    <id>https://blog.tcpsoft.app/2020/02/access-google-from-nothing/</id>
    <published>2020-02-13T08:33:07.000Z</published>
    <updated>2020-02-13T14:31:33.177Z</updated>
    
    <content type="html"><![CDATA[<p>由于众所周知的原因，[数据删除] 。并且在搜索引擎方面，Google 也是搜索知识的一个优秀工具。</p><p>关于搜索引擎之间的瓜葛，Baidu、Bing、Google 究竟谁优谁劣，以后我有空的话再来谈这个话题，欢迎和我 issue 交流。</p><p>今天就来介绍一下如何“无中生有访问 Google”。<a id="more"></a></p><h2 id="一个“不存在的”-chrome-插件"><a href="#一个“不存在的”-chrome-插件" class="headerlink" title="一个“不存在的” chrome 插件"></a>一个“不存在的” chrome 插件</h2><p>能访问 Google，当然是多亏了一个插件，名字叫做“谷歌上网助手”，它大概长这个样子：</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20191113170312.png" alt="image-20191113170312"></p><p>可以在 Google 网上应用点搜索到，然后点击“添加至Chrome”按钮就可以添加插件了</p><p><a href="https://chrome.google.com/webstore/detail/谷歌上网助手/nonmafimegllfoonjgplbabhmgfanaka" rel="external nofollow noopener noreferrer" target="_blank">https://chrome.google.com/webstore/detail/谷歌上网助手/nonmafimegllfoonjgplbabhmgfanaka</a></p><p>它的介绍文字是：</p><blockquote><p>专门为科研、外贸、跨境电商、海淘人员、开发人员服务的上网加速工具，chrome内核浏览器专用!可以解决chrome扩展无法自动更新的问题，同时可&gt;以访问谷歌google搜索，gmail邮箱，google+等谷歌产品</p><p>简单易用的《谷歌上网助手》，可以解决chrome扩展无法自动更新的问题，同时可以访问谷歌google搜索，gmail邮箱，google+等谷歌服务。</p><p>《谷歌上网助手》一键安装，无需其他配置，即可访问谷歌。</p><p>使用本插件可以免费上：</p><ul><li>google.com     谷歌搜索</li><li>mail.google.com   gmail邮箱</li><li>chrome商店访问</li></ul></blockquote><p>当然，以上链接是不存在的。</p><h2 id="无中生有？"><a href="#无中生有？" class="headerlink" title="无中生有？"></a>无中生有？</h2><p>chrome 的插件是一个后缀名为 .crx 的文件，文件结构与 zip 相同，这意味着，你可以用压缩软件打开 .crx 文件。</p><p>我们有了 crx 文件，就可以添加到 chrome 浏览器了。</p><p>从哪儿去得到 crx 文件？从 Google 应用商店。当然，Google 应用商店是不存在的。</p><p><strong>更新</strong>：插件官网也可以下载，快速下载方式请直接翻到文尾“<a href="#写在后面">#写在后面</a>”部分，再从此处继续阅读。</p><p>这里介绍一个网站，可以看作 Google应用商店翻版，也就是镜像站。<a href="https://www.gugeapps.net/" rel="external nofollow noopener noreferrer" target="_blank">https://www.gugeapps.net/</a></p><p><del>我的网站也提供了一个副本（划掉）</del>， <a href="../../blog-images/2020/access-google-from-nothing/src/谷歌上网助手.zip">谷歌上网助手.zip</a> ，如果添加 chrome 失败请转至下面方法下载，</p><p>bing 搜索 gugeapps.net，第一个链接是 <code>www.gugeapps.net</code> 就是了</p><p>打开是长这个样子的：</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20191114102230.png" alt="image-20191114102230"></p><p>我们可以在这里的搜索框搜索<code>谷歌上网助手</code>，回车搜索，或者在 bing 搜索 <code>谷歌上网助手 site:gugeapps.net</code> 第一个就是对应的页面了。</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20191114102822.png" alt="image-20191114102822"></p><p>这里不能直接安装到 chrome ，点击下载按钮，转到页面底端开始下载。</p><p>下载完成后会出现红色提示，保留就可以了<br><img src="../../blog-images/2020/access-google-from-nothing/image-20191114102910.png" alt="image-20191114102910"></p><p><strong>Ps</strong>：最新的下载下来好像后缀名是 zip ，不过不影响后续操作。</p><p>然后在文件夹中打开，可以看到文件夹里面有个 .crx 文件了</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20191114103010.PNG" alt="image-20191114103010"></p><h2 id="导入"><a href="#导入" class="headerlink" title="导入"></a>导入</h2><p>一般来说，crx 可以直接拖入 chrome 的扩展程序页面，会提示是否添加插件，确定添加就可以添加，不过，对于自己下载的插件，大多数是不行的，会提示“程序包无效”，</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20191114103110.png" alt="image-20191114103110"></p><h2 id="不能导入？"><a href="#不能导入？" class="headerlink" title="不能导入？"></a>不能导入？</h2><p>这里需要通过 chrome 的开发者模式，添加插件。</p><p>首先打开 chrome 的扩展程序页面：<a href="chrome://extensions" rel="external nofollow noopener noreferrer" target="_blank">chrome://extensions</a> ，开启页面右上方的“开发者模式”开关。</p><p>然后点左边的“加载已解压的扩展程序”</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20191114103117.png" alt="image-20191114103117"></p><p>切换到刚才的下载文件夹，复制一份 crx 文件，后缀名改为 zip ，随后解压到压缩文件同名文件夹。</p><p>如果看不到后缀名，在<code>查看</code>这里把<code>文件扩展名</code>选项勾选。</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20191114103616.png" alt="image-20191114103616"></p><p>切换到 chrome 的选择文件夹窗口，打开刚才的文件夹，可以看到文件夹里面的结构是</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">_locales</span><br><span class="line">_metadata</span><br><span class="line">assets</span><br></pre></td></tr></table></figure><p>然后添加文件夹。</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20191114103357.png" alt="image-20191114103357"></p><p>回到 chrome ，就可以看到新插件添加成功，</p><p>可以看到有提示错误，但是可以用，</p><p>可以看到， chrome 右上方增加了一个插件的图标了</p><p>同时可以看到图标下面有一个标志，鼠标悬浮提示：“未封装的扩展程序”。</p><p>另外，如果关闭 chrome 再打开，会提示移除插件，所以正常使用起来的话，还是有一些麻烦的</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20191114104215.png" alt="image-20191114104215"></p><p>点击右上角图标，会弹出插件菜单，首次需要注册登录，在登录页面找到新用户注册，填入邮箱和新账户密码注册</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20191114104439.png" alt="image-20191114104439"></p><p>然后进入插件 控制面板 ，有红色提示“邮箱未激活”，此时前往邮箱，点击新收到的邮件激活账户即可</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20191114104528.png" alt="image-20191114104528"></p><p>再点开插件菜单，把开关打开即可</p><img src="../../blog-images/2020/access-google-from-nothing/image-20191114104755.png" alt="image-20191114104755" style="zoom:50%;"><p>然后 <code>www.google.com</code> 可以访问了。</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20191114104855.png" alt="image-20191114104855"></p><h2 id="后续操作"><a href="#后续操作" class="headerlink" title="后续操作"></a>后续操作</h2><p>关闭浏览器再打开就会提示“请停用以开发者模式添加的插件”，影响使用，所以需要再“操作”一下</p><p><strong>Ps</strong>：如果没有注册登录插件，现在的新版浏览器是直接移除插件，影响使用，所以需要再“操作”一下</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20200213214020573.png" alt="image-20200213214020573"></p><p>这个提示框每次打开 chrome 都会弹出，极其  讨厌。</p><p>我们可以通过：从 Google 应用商店安装正规插件，的方式，替换这个插件，就不会再提示辣</p><p>打开 Google网上应用店 <a href="https://chrome.google.com/webstore/category/extensions" rel="external nofollow noopener noreferrer" target="_blank">https://chrome.google.com/webstore/category/extensions</a></p><p>搜索 <code>谷歌上网助手</code> ，找到第一个就是正规插件（开发版也可以用），点“<code>添加至 chrome</code>”按钮就可以添加，点<code>添加扩展程序</code> 按钮</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20200213214703542.png" alt="image-20200213214703542"></p><p>接着我们可以看到 chrome 左下方出现了一个 crx 下载进度条，但是这个下载完之后并不会提示下载完成，会自动消失（在下载记录也不会留下记录），而是自动安装</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20200213214909741.png" alt="image-20200213214909741"></p><p>然后会看到页面里面“谷歌上网助手”变成了“已添加”，“添加至chrome”变成了“评分”，就是安装完成了</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20200213215254798.png" alt="image-20200213215254798"></p><p>然后需要删除旧插件，打开插件管理页面，<a href="chrome://extensions/" rel="external nofollow noopener noreferrer" target="_blank">chrome://extensions/</a></p><p>也可以在右上角插件图标处鼠标右键，<code>管理扩展程序</code>，然后返回按钮</p><p>找到刚才提示“未封装的扩展程序”的插件，删除，</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20200213215852988.png" alt="image-20200213215852988"></p><p>点击右上角新安装的插件的图标，弹出登陆页面，进去再用刚注册的账号登陆一次就可以了</p><p>至此，全部安装完成！</p><h2 id="写在后面"><a href="#写在后面" class="headerlink" title="写在后面"></a>写在后面</h2><p>插件官网：<a href="http://googlehelper.net/" rel="external nofollow noopener noreferrer" target="_blank">http://googlehelper.net/</a> ，也可以在这里下载 zip 然后按上述方法导入</p><p><img src="../../blog-images/2020/access-google-from-nothing/image-20200213221452052.png" alt="image-20200213221452052"></p><p>点击 download ，下载此网站最新插件压缩包，也可以下载我保存的副本， <a href="../../blog-images/2020/access-google-from-nothing/src/Ghelper2.0.4.all.zip">Ghelper2.0.4.all.zip</a> ，</p><p>压缩包解压之后可以看到：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ghelper_source</span><br><span class="line">Ghelper2.0.5.crx</span><br><span class="line">中国大陆安装方法.txt</span><br></pre></td></tr></table></figure><p>其中 ghelper_source 和上文提到的解压后文件夹是一样的，</p><p>其中的 crx 文件可以用于直接拖拽导入插件（2020/02/13测试这个crx可以直接导入没有问题）</p><p><a href="#无中生有">点击此处回到 “无中生有？” 部分继续阅读</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;由于众所周知的原因，[数据删除] 。并且在搜索引擎方面，Google 也是搜索知识的一个优秀工具。&lt;/p&gt;
&lt;p&gt;关于搜索引擎之间的瓜葛，Baidu、Bing、Google 究竟谁优谁劣，以后我有空的话再来谈这个话题，欢迎和我 issue 交流。&lt;/p&gt;
&lt;p&gt;今天就来介绍一下如何“无中生有访问 Google”。
    
    </summary>
    
    
      <category term="科学上网" scheme="https://blog.tcpsoft.app/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
      <category term="搜索引擎" scheme="https://blog.tcpsoft.app/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/"/>
    
    
      <category term="Google" scheme="https://blog.tcpsoft.app/tags/Google/"/>
    
      <category term="搜索引擎" scheme="https://blog.tcpsoft.app/tags/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/"/>
    
      <category term="chrome" scheme="https://blog.tcpsoft.app/tags/chrome/"/>
    
      <category term="代理" scheme="https://blog.tcpsoft.app/tags/%E4%BB%A3%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>Wooyun.org lives on Github</title>
    <link href="https://blog.tcpsoft.app/2020/02/wooyun-on-github/"/>
    <id>https://blog.tcpsoft.app/2020/02/wooyun-on-github/</id>
    <published>2020-02-11T12:11:21.000Z</published>
    <updated>2020-02-11T17:59:11.089Z</updated>
    
    <content type="html"><![CDATA[<p>翻阅 Wooyun ，然后找到了Github上。。。不得不说，Github 上确实有大量镜像资源</p><p>在这里做一个总结吧。按 Star 排序，把每个库的 Readme.md 剪辑到了这里。</p><p>文尾有彩蛋！</p><a id="more"></a><hr><h1 id="1"><a href="#1" class="headerlink" title="1#"></a>1#</h1><h1 id="https-github-com-hanc00l-wooyun-public"><a href="#https-github-com-hanc00l-wooyun-public" class="headerlink" title="https://github.com/hanc00l/wooyun_public"></a><a href="https://github.com/hanc00l/wooyun_public">https://github.com/hanc00l/wooyun_public</a></h1><blockquote><h3 id="Watch：224-Star：3586-Fork：1-8k"><a href="#Watch：224-Star：3586-Fork：1-8k" class="headerlink" title="Watch：224        Star：3586        Fork：1.8k"></a>Watch：224        Star：3586        Fork：1.8k</h3></blockquote><h2 id="wooyun-public"><a href="#wooyun-public" class="headerlink" title="wooyun_public"></a>wooyun_public</h2><p><strong>乌云公开漏洞、知识库爬虫和搜索</strong><br><strong>crawl and search for wooyun.org public bug(vulnerability) and drops</strong></p><h3 id="1-wooyun公开漏洞爬虫版"><a href="#1-wooyun公开漏洞爬虫版" class="headerlink" title="1.wooyun公开漏洞爬虫版"></a>1.wooyun公开漏洞爬虫版</h3><p><img src="../../blog-images/2020/wooyun-on-github/wooyun_public/index.png" alt="index"></p><p><img src="../../blog-images/2020/wooyun-on-github/wooyun_public/search.png" alt="search"></p><p>源自2016年6月底使用scrapy爬虫爬取的4W公开漏洞和知识库，虚拟机为ubuntu14.04，采用python2+mongodb+flask(tornado)和Elasticsearch搜索引擎。</p><p>虚拟机下载地址：</p><p><a href="https://pan.baidu.com/s/1HkR4ggvAwTikshsjcKYBuA" rel="external nofollow noopener noreferrer" target="_blank">https://pan.baidu.com/s/1HkR4ggvAwTikshsjcKYBuA</a> ，提取密码：8wnb（2018.4.23更新）</p><p><a href="https://github.com/hanc00l/wooyun_public/blob/master/README_PUBLIC.md">安装、使用指南（点我）</a></p><h3 id="2-wooyun公开漏洞纪念版"><a href="#2-wooyun公开漏洞纪念版" class="headerlink" title="2.wooyun公开漏洞纪念版"></a>2.wooyun公开漏洞纪念版</h3><p><img src="../../blog-images/2020/wooyun-on-github/wooyun_public/index_final.png" alt="index_final"></p><p><img src="../../blog-images/2020/wooyun-on-github/wooyun_public/search_final.png" alt="search_final"></p><p>漏洞信息和代码来自于<a href="https://github.com/m0l1ce/wooyunallbugs">m0l1ce的wooyun_all_bugs_8.8W</a>，包含8.8W漏洞信息（不含知识库）；搜索和漏洞信息代码位于wooyun_final，对代码进行了部份修改:</p><ul><li>修改了搜索功能，支持多关键字搜索和在漏洞详情中搜索</li><li>修改了离线图片文件的位置，搜索结果直接使用虚拟机中的离线图片</li><li>修改了代码以适应PHP5.6及更新版本</li></ul><p>虚拟机为ubuntu16.04，PHP5.6+MySQL5.7+Apache2。虚拟机下载地址：<br><a href="https://pan.baidu.com/s/1qYRqa3U" rel="external nofollow noopener noreferrer" target="_blank">https://pan.baidu.com/s/1qYRqa3U</a> 密码: w8vb (2017.7.4)</p><p>虚拟机用户名、密码为hancool/qwe123</p><h3 id="3-其它"><a href="#3-其它" class="headerlink" title="3.其它"></a>3.其它</h3><ul><li>本程序只用于技术研究和个人使用，程序组件均为开源程序，漏洞和知识库来源于乌云公开漏洞，版权归wooyun.org。</li></ul><hr><h1 id="2"><a href="#2" class="headerlink" title="2#"></a>2#</h1><h1 id="https-github-com-Xyntax-1000php"><a href="#https-github-com-Xyntax-1000php" class="headerlink" title="https://github.com/Xyntax/1000php"></a><a href="https://github.com/Xyntax/1000php">https://github.com/Xyntax/1000php</a></h1><blockquote><h3 id="Watch：31-Star：759-Fork：481"><a href="#Watch：31-Star：759-Fork：481" class="headerlink" title="Watch：31        Star：759        Fork：481"></a>Watch：31        Star：759        Fork：481</h3></blockquote><h2 id="1000php"><a href="#1000php" class="headerlink" title="1000php"></a>1000php</h2><p>1000个PHP代码审计案例 (2016.7以前乌云公开漏洞)</p><h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ul><li>数据取自3.8W乌云已公开漏洞(截至2016.7)</li><li>漏洞在<code>./bugs</code>,<code>./upload</code>保存了相关漏洞的图片资源</li><li>使用特征匹配提取,杂质在5%以内,如遇其他非php漏洞自行删除即可</li><li>愿乌云早日回归</li></ul><hr><h1 id="3"><a href="#3" class="headerlink" title="3#"></a>3#</h1><h1 id="https-github-com-starnightcyber-1000php"><a href="#https-github-com-starnightcyber-1000php" class="headerlink" title="https://github.com/starnightcyber/1000php"></a><a href="https://github.com/starnightcyber/1000php">https://github.com/starnightcyber/1000php</a></h1><blockquote><h3 id="Watch：1-Star：759-Fork：481"><a href="#Watch：1-Star：759-Fork：481" class="headerlink" title="Watch：1        Star：759        Fork：481"></a>Watch：1        Star：759        Fork：481</h3></blockquote><h2 id="1000php-1"><a href="#1000php-1" class="headerlink" title="1000php"></a>1000php</h2><p>1000个PHP代码审计案例 (2016.7以前乌云公开漏洞)</p><p>在原来的基础上<a href="https://github.com/Xyntax/1000php">Xyntax/1000php</a>添加了简单的漏洞索引，并且加入了原css文件，方便查看</p><h3 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h3><p><img src="../../blog-images/2020/wooyun-on-github/1000php-starnightcyber/wooyun-index.png" alt="wooyun-index"></p><p>点击其中某个漏洞，查看</p><p><img src="../../blog-images/2020/wooyun-on-github/1000php-starnightcyber/bug.png" alt="bug"></p><p>刚才试过了，直接打开index.html好像并不会简单按照我们的意愿显示，可以重新再执行一下代码：</p><p>python script.py</p><p>这样会重新生成index.html，在本地打开应该就没有问题，另外可能会出现乱码，可以用谷歌浏览器打开。</p><h3 id="说明-1"><a href="#说明-1" class="headerlink" title="说明"></a>说明</h3><ul><li>数据取自3.8W乌云已公开漏洞(截至2016.7)</li><li>漏洞在<code>./bugs</code>,<code>./upload</code>保存了相关漏洞的图片资源</li><li>使用特征匹配提取,杂质在5%以内,如遇其他非php漏洞自行删除即可</li><li>愿乌云早日回归</li></ul><hr><h1 id="4"><a href="#4" class="headerlink" title="4#"></a>4#</h1><h1 id="https-github-com-jiji262-wooyun-articles"><a href="#https-github-com-jiji262-wooyun-articles" class="headerlink" title="https://github.com/jiji262/wooyun_articles"></a><a href="https://github.com/jiji262/wooyun_articles">https://github.com/jiji262/wooyun_articles</a></h1><blockquote><h3 id="Watch：27-Star：640-Fork：506"><a href="#Watch：27-Star：640-Fork：506" class="headerlink" title="Watch：27        Star：640        Fork：506"></a>Watch：27        Star：640        Fork：506</h3></blockquote><h2 id="wooyun-articles"><a href="#wooyun-articles" class="headerlink" title="wooyun_articles"></a>wooyun_articles</h2><p><strong>drops.wooyun.org</strong> 乌云Drops文章备份</p><p>(乌云网站已经离我们而去，可能再也不会回来了！谨以此纪念乌云！)</p><h3 id="线上版本"><a href="#线上版本" class="headerlink" title="线上版本"></a>线上版本</h3><p><strong>(已更新图片)</strong></p><p><a href="https://wooyun.js.org/" rel="external nofollow noopener noreferrer" target="_blank">https://wooyun.js.org/</a></p><h3 id="线上版本源码"><a href="#线上版本源码" class="headerlink" title="线上版本源码"></a>线上版本源码</h3><p><a href="https://github.com/jiji262/wooyun_articles/tree/gh-pages">https://github.com/jiji262/wooyun_articles/tree/gh-pages</a></p><h3 id="关于branches"><a href="#关于branches" class="headerlink" title="关于branches"></a>关于branches</h3><h4 id="gh-pages"><a href="#gh-pages" class="headerlink" title="gh-pages"></a>gh-pages</h4><p><a href="https://wooyun.js.org/" rel="external nofollow noopener noreferrer" target="_blank">https://wooyun.js.org/</a> 源码。</p><p>由于wooyun服务器已经无法访问，所以文章中图片已经无法显示。所幸，之前已经将图片抓取下来，可以在<a href="https://github.com/jiji262/wooyun_articles/tree/gh-pages/images_result/images">这里</a>查看所有图片。</p><h4 id="master"><a href="#master" class="headerlink" title="master"></a>master</h4><p>目录如下：</p><p><strong>wooyun.js</strong>：用于抓取 drops.wooyun.org 上文章的脚本；</p><p><strong>drops</strong>：抓取下来的文章原文；</p><p><strong>image_download</strong>：单独下载文章中图片的方法， <code>bagpipe_version</code>和<code>async_version</code>为多并发下载图片的解决方案。</p><h3 id="Todo"><a href="#Todo" class="headerlink" title="Todo"></a>Todo</h3><p>[x]更新本地图片链接到文章中</p><hr><h1 id="5"><a href="#5" class="headerlink" title="5#"></a>5#</h1><h1 id="https-github-com-boy-hack-wooyun-payload"><a href="#https-github-com-boy-hack-wooyun-payload" class="headerlink" title="https://github.com/boy-hack/wooyun-payload"></a><a href="https://github.com/boy-hack/wooyun-payload">https://github.com/boy-hack/wooyun-payload</a></h1><blockquote><h3 id="Watch：12-Star：465-Fork：90"><a href="#Watch：12-Star：465-Fork：90" class="headerlink" title="Watch：12        Star：465        Fork：90"></a>Watch：12        Star：465        Fork：90</h3></blockquote><h2 id="WooYun-Payload"><a href="#WooYun-Payload" class="headerlink" title="WooYun-Payload"></a>WooYun-Payload</h2><p>从乌云漏洞库中提取的扫描规则,内容介绍: <a href="https://mp.weixin.qq.com/s/9RHVsw-HtAfo1UuPAqXZEw" rel="external nofollow noopener noreferrer" target="_blank">https://mp.weixin.qq.com/s/9RHVsw-HtAfo1UuPAqXZEw</a></p><h3 id="Burpsuite-辅助插件"><a href="#Burpsuite-辅助插件" class="headerlink" title="Burpsuite 辅助插件"></a>Burpsuite 辅助插件</h3><p>通过http请求包中域名，路径，参数等获取乌云历史漏洞中类似的数据。</p><p><img src="../../blog-images/2020/wooyun-on-github/wooyun-payload/wooyunpayload.gif" alt="wooyunpayload"></p><h3 id="数据说明"><a href="#数据说明" class="headerlink" title="数据说明"></a>数据说明</h3><ul><li>data 从乌云镜像中提取的各类字典</li><li>WooyunSearch burp插件源码</li><li>编译好的burp插件下载地址 <a href="https://github.com/boy-hack/wooyun-payload/releases">https://github.com/boy-hack/wooyun-payload/releases</a></li></ul><hr><h1 id="6"><a href="#6" class="headerlink" title="6#"></a>6#</h1><h1 id="https-github-com-m0l1ce-wooyunallbugs"><a href="#https-github-com-m0l1ce-wooyunallbugs" class="headerlink" title="https://github.com/m0l1ce/wooyunallbugs"></a><a href="https://github.com/m0l1ce/wooyunallbugs">https://github.com/m0l1ce/wooyunallbugs</a></h1><blockquote><h3 id="Watch：21-Star：398-Fork：154"><a href="#Watch：21-Star：398-Fork：154" class="headerlink" title="Watch：21        Star：398        Fork：154"></a>Watch：21        Star：398        Fork：154</h3></blockquote><h2 id="wooyunallbugs"><a href="#wooyunallbugs" class="headerlink" title="wooyunallbugs"></a>wooyunallbugs</h2><p>wooyun_all_bugs_8.8W</p><hr><p>链接:<a href="https://pan.baidu.com/s/1htwVF3Q" rel="external nofollow noopener noreferrer" target="_blank">https://pan.baidu.com/s/1htwVF3Q</a>  密码:oskw</p><p>代码在bugs文件里<br>ps:php version 5.3<br>库解压到wooyun库里即可<br>ps:注意修改数据库连接密码 conn.php</p><hr><p>ps:图片资源解压到根目录/upload/下 本地绑定下host  你的图片服务器 static.loner.fm<br>   static.loner.fm 不会关掉的 大家可以放心使用</p><p>   漏洞查询链接 <a href="http://www.loner.fm/bugs/" rel="external nofollow noopener noreferrer" target="_blank">www.loner.fm/bugs/</a></p><hr><h1 id="7"><a href="#7" class="headerlink" title="7#"></a>7#</h1><h1 id="https-github-com-SuperKieran-WooyunDrops"><a href="#https-github-com-SuperKieran-WooyunDrops" class="headerlink" title="https://github.com/SuperKieran/WooyunDrops"></a><a href="https://github.com/SuperKieran/WooyunDrops">https://github.com/SuperKieran/WooyunDrops</a></h1><blockquote><h3 id="Watch：13-Star：346-Fork：243"><a href="#Watch：13-Star：346-Fork：243" class="headerlink" title="Watch：13        Star：346        Fork：243"></a>Watch：13        Star：346        Fork：243</h3></blockquote><h2 id="Wooyun-Drops"><a href="#Wooyun-Drops" class="headerlink" title="Wooyun Drops"></a>Wooyun Drops</h2><p>DEMO: <a href="https://wooyun.kieran.top" rel="external nofollow noopener noreferrer" target="_blank">https://wooyun.kieran.top</a></p><h3 id="静态版乌云-Drops"><a href="#静态版乌云-Drops" class="headerlink" title="静态版乌云 Drops"></a>静态版乌云 Drops</h3><p>OPTIONS:<br>1.默认开启 https，如果不需要可以在 index.html 删掉<br>2.图片依赖于 <a href="https://github.com/SuperKieran/wooyun-img">https://github.com/SuperKieran/wooyun-img</a>  </p><p>全文搜索有想法还但没想好怎么做<br>最先想到的自然是写个后台，搜搜搜就完工了，但这不太方便<br>静态页面的搜索 我暂时没有好的方案，如果有好的想法的话可以在 issue 里提  </p><hr><h1 id="8"><a href="#8" class="headerlink" title="8#"></a>8#</h1><h1 id="https-github-com-SuperKieran-wooyun-img"><a href="#https-github-com-SuperKieran-wooyun-img" class="headerlink" title="https://github.com/SuperKieran/wooyun-img"></a><a href="https://github.com/SuperKieran/wooyun-img">https://github.com/SuperKieran/wooyun-img</a></h1><blockquote><h3 id="Watch：0-Star：20-Fork：33"><a href="#Watch：0-Star：20-Fork：33" class="headerlink" title="Watch：0        Star：20        Fork：33"></a>Watch：0        Star：20        Fork：33</h3></blockquote><h2 id="WooYun-Drops-图片库"><a href="#WooYun-Drops-图片库" class="headerlink" title="WooYun Drops 图片库"></a>WooYun Drops 图片库</h2><p>DEMO: <a href="https://superkieran.github.io/WooyunDrops" rel="external nofollow noopener noreferrer" target="_blank">https://superkieran.github.io/WooyunDrops</a><br>Github: <a href="https://github.com/SuperKieran/WooyunDrops">https://github.com/SuperKieran/WooyunDrops</a><br>（编者注：图片在gh-pages分支）</p><hr><h1 id="9"><a href="#9" class="headerlink" title="9#"></a>9#</h1><h1 id="https-github-com-grt1st-wooyun-search"><a href="#https-github-com-grt1st-wooyun-search" class="headerlink" title="https://github.com/grt1st/wooyun_search"></a><a href="https://github.com/grt1st/wooyun_search">https://github.com/grt1st/wooyun_search</a></h1><blockquote><h3 id="Watch：22-Star：327-Fork：157"><a href="#Watch：22-Star：327-Fork：157" class="headerlink" title="Watch：22        Star：327        Fork：157"></a>Watch：22        Star：327        Fork：157</h3></blockquote><h2 id="wooyun-search"><a href="#wooyun-search" class="headerlink" title="wooyun_search"></a>wooyun_search</h2><p><strong>乌云公开漏洞、知识库搜索</strong></p><p><img src="../../blog-images/2020/wooyun-on-github/wooyun_search/index.jpg" alt="index"></p><p><img src="../../blog-images/2020/wooyun-on-github/wooyun_search/search.jpg" alt="search"></p><p><img src="../../blog-images/2020/wooyun-on-github/wooyun_search/author.jpg" alt="author"></p><h2 id="0x00-介绍"><a href="#0x00-介绍" class="headerlink" title="0x00.介绍"></a>0x00.介绍</h2><ul><li><p>灵感来源于hanc00l的github项目<a href="https://github.com/hanc00l/wooyun_public">wooyun_public</a></p></li><li><p>wooyun_public基于flask或者tornado，而本项目可以布置在apache、nginx等web服务器上。</p></li><li><p>如果你有wooyun的静态网页数据，那么我们可以开始了！</p></li><li><p>整个项目包括两个部分，第一部分是索引，将网页信息存储进数据库;第二部分是搜索，从数据库中查找信息。轻量级，支持进行二次开发。</p></li><li><p>静态网页网盘链接：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bugs   链接: https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;1n_kkUaZZxcTEa4-v6sGa9Q 密码: sg98 (20180707)</span><br><span class="line">drops  链接: https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;1r2Y7rfntwnjglX6HtzDk6w 密码: 738f (20180707)</span><br></pre></td></tr></table></figure></li></ul><h2 id="0x01-依赖组件及说明"><a href="#0x01-依赖组件及说明" class="headerlink" title="0x01.依赖组件及说明"></a>0x01.依赖组件及说明</h2><ul><li><p>python 2.7和pip</p></li><li><p>python依赖:MySQLdb，lxml(推荐)</p></li><li><p>mysql,php及任意web服务器（php需开启pdo-mysql模块</p></li><li><p>将本项目放进web服务器目录下，bugs目录下为漏洞库文件，drops目录下为知识库文件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">文件说明：</span><br><span class="line">app_bugs.py                      bugs的索引，依赖lxml</span><br><span class="line">app_drops.py                     drops的索引，依赖lxml</span><br><span class="line">index.html                       搜索的主页</span><br><span class="line">search.php                       执行搜索的页面</span><br><span class="line">config.php                       php配置文件</span><br><span class="line">.&#x2F;bugs                           bugs静态文件的目录</span><br><span class="line">.&#x2F;drops                          drops静态文件的目录</span><br></pre></td></tr></table></figure></li></ul><h2 id="0x02-索引配置"><a href="#0x02-索引配置" class="headerlink" title="0x02.索引配置 "></a>0x02.索引配置 </h2><ul><li><p>app_bugs.py为建立bugs索引的脚本，app_drops为建立drops索引的脚本。</p></li><li><p>因为python脚本中open()函数打开的文件名不能为中文，建议将drops目录下的中文文件名改为英文(例如，安全运维-xxxx.html=&gt;safe-xxxx.html)</p></li><li><p>python脚本运行前需要修改如下语句，更改参数如主机、端口号、用户名、密码。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conn=MySQLdb.connect(host=<span class="string">'localhost'</span>,port=3306,user=<span class="string">'root'</span>,passwd=<span class="string">''</span>,db=<span class="string">'wooyun'</span>,charset=<span class="string">'utf8'</span>)</span><br></pre></td></tr></table></figure></li><li><p>在mysql中建立数据库wooyun，数据表bugs、drops，分别建立字段title,dates,author,type,corp,doc与title,dates,author,type,doc。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE `wooyun` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;</span><br><span class="line">create table bugs(title VARCHAR(500),dates DATETIME, author CHAR(255),<span class="built_in">type</span> CHAR(255),corp CHAR(255),doc VARCHAR(200) PRIMARY KEY);</span><br><span class="line">create table drops(title VARCHAR(500),dates DATETIME, author CHAR(255),<span class="built_in">type</span> CHAR(255),doc VARCHAR(200) PRIMARY KEY);</span><br></pre></td></tr></table></figure></li><li><p>注意mysql编码如下，需要为utf-8（character_set_server不为utf-8要修改mysql配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">use wooyun;</span><br><span class="line">show variables like <span class="string">'character%'</span>; <span class="comment">#查看编码</span></span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| Variable_name            | Value                      |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| character_set_client     | utf8                       |</span><br><span class="line">| character_set_connection | utf8                       |</span><br><span class="line">| character_set_database   | utf8                       |</span><br><span class="line">| character_set_filesystem | binary                     |</span><br><span class="line">| character_set_results    | utf8                       |</span><br><span class="line">| character_set_server     | utf8                       |</span><br><span class="line">| character_set_system     | utf8                       |</span><br><span class="line">| character_sets_dir       | /usr/share/mysql/charsets/ |</span><br><span class="line">+--------------------------+----------------------------+</span><br></pre></td></tr></table></figure><p>如果编码错误会报错，比如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Warning: Incorrect string value: &#39;\xE5\xBB\xB6\xE9\x95\xBF...&#39; for column &#39;title&#39; at row 1</span><br><span class="line">cur.execute(&quot;INSERT INTO &#96;drops&#96;(&#96;title&#96;,&#96;dates&#96;,&#96;author&#96;,&#96;type&#96;,&#96;doc&#96;) VALUES(%s,%s,%s,%s,%s)&quot;, tmp)</span><br></pre></td></tr></table></figure><p>在mysql里查看会发现有一堆???</p></li><li><p>之后就可以建立索引了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo python ./app_bugs.py</span><br><span class="line">sudo python ./app_drops.py</span><br></pre></td></tr></table></figure></li><li><p>bugs数目为40280，drops数目为1264</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">use wooyun;</span><br><span class="line">select count(*) from bugs;</span><br><span class="line">select count(*) from drops;</span><br></pre></td></tr></table></figure></li></ul><h2 id="0x03-搜索配置"><a href="#0x03-搜索配置" class="headerlink" title="0x03.搜索配置 "></a>0x03.搜索配置 </h2><ul><li><p>修改config.php中修改如下语句中参数，分别是主机、端口、用户名、密码与数据库。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$config[<span class="string">'host'</span>] = <span class="string">'127.0.0.1'</span>;</span><br><span class="line">$config[<span class="string">'port'</span>] = <span class="string">'3306'</span>;</span><br><span class="line">$config[<span class="string">'user'</span>] = <span class="string">'root'</span>;</span><br><span class="line">$config[<span class="string">'passwd'</span>] = <span class="string">''</span>;</span><br><span class="line">$config[<span class="string">'database'</span>] = <span class="string">'wooyun'</span>;</span><br></pre></td></tr></table></figure></li><li><p>index.html与search.php样式来自于前端静态资源托管库。f12进入开发者模式，如果样式文件访问不到可以使用本地或cdn的样式(bootstrap3.3.7、jquery3.1.0)。只需要更改两个网页里面的如下内容。</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;link href&#x3D;&quot;&#x2F;&#x2F;lib.baomitu.com&#x2F;twitter-bootstrap&#x2F;3.3.7&#x2F;css&#x2F;bootstrap.min.css&quot; rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot;&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;&#x2F;lib.baomitu.com&#x2F;jquery&#x2F;3.1.0&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;&#x2F;lib.baomitu.com&#x2F;twitter-bootstrap&#x2F;3.3.7&#x2F;js&#x2F;bootstrap.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><ul><li><p>为了防止因为web服务器配置不正确，导致访问http(s)://example.link/bugs/或者http(s)://example.link/drops/而进入index of页面泄露所有文件，在目录下放置内容为空的index.html即可。</p></li><li><p>linux下由于selinux可能会导致无法连接数据库，可以使用如下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">getenforce   //查看selinux状态</span><br><span class="line">setenforce 0   //暂时关闭selinux</span><br></pre></td></tr></table></figure></li></ul><h2 id="0x04-问题"><a href="#0x04-问题" class="headerlink" title="0x04.问题"></a>0x04.问题</h2><ul><li>drops很奇怪的会都需web目录下的js而不是本身目录里的js，所以drops的页面会有些乱。开发者模式看一下，缺少的js为web目录/static/drops/css与web目录/static/drops/js。新建目录再把drops下的css、js文件夹复制过去即可</li></ul><h2 id="0x05-更新日志"><a href="#0x05-更新日志" class="headerlink" title="0x05.更新日志"></a>0x05.更新日志</h2><ul><li><p>2016.10.08更新：上传了bugs.py。由于bugs部分页面(约143条)的author带有js，正则匹配出的信息出错，所以上传了bugs.py用于修正，在app.py后执行，python bugs.py。(2016.11.09已修正，无需执行bugs.py)</p></li><li><p>2016.10.10更新：重写了search.php和search.css，基本适配了各种浏览器和移动端。</p></li><li><p>2016.11.09更新：匹配索引将BeautifulSoup换成了lxml，运行速度更快。优化了匹配(感谢@tuola)。</p></li><li><p>2017.01.01更新：增加了作者搜索，优化了分页逻辑。</p></li><li><p>2017.3.7更新：重写了前端，优化了php代码。</p></li><li><p>欢迎反馈问题。可以提问issue也可以通过<a href="mailto:grt1stnull@gmail.com" rel="external nofollow noopener noreferrer" target="_blank">grt1stnull@gmail.com</a>联系我。后续也会进行其他细节优化。</p></li></ul><h2 id="0x06-后记"><a href="#0x06-后记" class="headerlink" title="0x06.后记"></a>0x06.后记</h2><ul><li><p>本来打算把wooyun_public布置在我的树莓派上，因为一些原因失败，所以萌生了自己搭建的念头</p></li><li><p>总共搭建了十天，接触了js、bootstarap、beautifulsoup、mysqldb、mysqli和pdo。虽然以前也会css与php，但这是第一次真正写一个动态网页，感觉很棒。</p></li></ul><h2 id="0x07-其他"><a href="#0x07-其他" class="headerlink" title="0x07.其他"></a>0x07.其他</h2><ul><li><p>本程序只用于技术研究和个人使用，程序组件均为开源程序，漏洞和知识库来源于乌云公开漏洞，版权归wooyun.org。</p></li><li><p>新浪微博:<a href="http://weibo.com/grt1st" rel="external nofollow noopener noreferrer" target="_blank">http://weibo.com/grt1st</a></p></li><li><p>个人邮箱:<a href="mailto:grt1stnull@gmail.com" rel="external nofollow noopener noreferrer" target="_blank">grt1stnull@gmail.com</a></p></li></ul><hr><h1 id="10"><a href="#10" class="headerlink" title="10#"></a>10#</h1><h1 id="https-github-com-LubyRuffy-wyquery"><a href="#https-github-com-LubyRuffy-wyquery" class="headerlink" title="https://github.com/LubyRuffy/wyquery"></a><a href="https://github.com/LubyRuffy/wyquery">https://github.com/LubyRuffy/wyquery</a></h1><blockquote><h3 id="Watch：12-Star：109-Fork：92"><a href="#Watch：12-Star：109-Fork：92" class="headerlink" title="Watch：12        Star：109        Fork：92"></a>Watch：12        Star：109        Fork：92</h3></blockquote><h2 id="wyquery"><a href="#wyquery" class="headerlink" title="wyquery"></a>wyquery</h2><p>Wooyun公开的漏洞详情是一个很好的资源，但是没有提供很好的搜索引擎和排序功能来进行数据分析，所以，这个项目用户镜像wooyun上已经对外公开的漏洞详情，并提供更多搜索和排序的功能。</p><p>你有没有想完成如下功能？</p><ul><li>我想只看给钱的漏洞</li><li>我想只看带乌云标志的漏洞</li><li>我想按照rank排序漏洞</li></ul><p>如果有，那你跟我遇到的问题一样，不妨试试这个项目！线上已经搭建好的DEMO环境如下：<a href="http://120.27.41.90/" rel="external nofollow noopener noreferrer" target="_blank">http://120.27.41.90/</a></p><h3 id="搭建环境"><a href="#搭建环境" class="headerlink" title="搭建环境"></a>搭建环境</h3><p>建议在Linux下运行，当然Windows下也可以。Ruby 2.0＋</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;LubyRuffy&#x2F;wyquery.git</span><br><span class="line">cd wyquery</span><br><span class="line">bundle install</span><br><span class="line">rake db:migrate</span><br><span class="line">rails s</span><br></pre></td></tr></table></figure><p>然后访问<a href="http://0.0.0.0:3000" rel="external nofollow noopener noreferrer" target="_blank">http://0.0.0.0:3000</a></p><h3 id="初次抓取数据"><a href="#初次抓取数据" class="headerlink" title="初次抓取数据"></a>初次抓取数据</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd wyquery</span><br><span class="line">ruby .&#x2F;tools&#x2F;import_bugs.rb</span><br></pre></td></tr></table></figure><h3 id="同步数据"><a href="#同步数据" class="headerlink" title="同步数据"></a>同步数据</h3><p>这时可以建立定时任务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line">*&#x2F;10 * * * * &lt;wyquery路径&gt;&#x2F;tools&#x2F;import_bugs.rb</span><br></pre></td></tr></table></figure><hr><h1 id="11"><a href="#11" class="headerlink" title="11#"></a>11#</h1><h1 id="https-github-com-jas502n-fuzz-wooyun-org"><a href="#https-github-com-jas502n-fuzz-wooyun-org" class="headerlink" title="https://github.com/jas502n/fuzz-wooyun-org"></a><a href="https://github.com/jas502n/fuzz-wooyun-org">https://github.com/jas502n/fuzz-wooyun-org</a></h1><blockquote><h3 id="Watch：3-Star：96-Fork：49"><a href="#Watch：3-Star：96-Fork：49" class="headerlink" title="Watch：3        Star：96        Fork：49"></a>Watch：3        Star：96        Fork：49</h3></blockquote><h2 id="fuzz-wooyun-org"><a href="#fuzz-wooyun-org" class="headerlink" title="fuzz-wooyun-org"></a>fuzz-wooyun-org</h2><p>WooYun Fuzz 库</p><hr><h1 id="12"><a href="#12" class="headerlink" title="12#"></a>12#</h1><h1 id="https-github-com-xinali-wooyun"><a href="#https-github-com-xinali-wooyun" class="headerlink" title="https://github.com/xinali/wooyun"></a><a href="https://github.com/xinali/wooyun">https://github.com/xinali/wooyun</a></h1><blockquote><h3 id="Watch：6-Star：95-Fork：42"><a href="#Watch：6-Star：95-Fork：42" class="headerlink" title="Watch：6        Star：95        Fork：42"></a>Watch：6        Star：95        Fork：42</h3></blockquote><h2 id="wooyun"><a href="#wooyun" class="headerlink" title="wooyun"></a>wooyun</h2><h3 id="wooyun-datasets"><a href="#wooyun-datasets" class="headerlink" title="wooyun datasets"></a>wooyun datasets</h3><ul><li>usernames</li><li>passwords</li><li>URLs</li><li>sensitive data patterns</li><li>fuzzing payloads</li><li>web shells</li></ul><hr><h1 id="13"><a href="#13" class="headerlink" title="13#"></a>13#</h1><h1 id="https-github-com-l3m0n-wooyun-wiki"><a href="#https-github-com-l3m0n-wooyun-wiki" class="headerlink" title="https://github.com/l3m0n/wooyun-wiki"></a><a href="https://github.com/l3m0n/wooyun-wiki">https://github.com/l3m0n/wooyun-wiki</a></h1><blockquote><h3 id="Watch：5-Star：75-Fork：55"><a href="#Watch：5-Star：75-Fork：55" class="headerlink" title="Watch：5        Star：75        Fork：55"></a>Watch：5        Star：75        Fork：55</h3></blockquote><h2 id="wooyun-wiki"><a href="#wooyun-wiki" class="headerlink" title="wooyun-wiki"></a>wooyun-wiki</h2><p>wiki.wooyun.org的部分快照网页</p><hr><h1 id="14"><a href="#14" class="headerlink" title="14#"></a>14#</h1><h1 id="https-github-com-fxfactorial-wooyun-github-io"><a href="#https-github-com-fxfactorial-wooyun-github-io" class="headerlink" title="https://github.com/fxfactorial/wooyun.github.io"></a><a href="https://github.com/fxfactorial/wooyun.github.io">https://github.com/fxfactorial/wooyun.github.io</a></h1><blockquote><h3 id="Watch：6-Star：44-Fork：33"><a href="#Watch：6-Star：44-Fork：33" class="headerlink" title="Watch：6        Star：44        Fork：33"></a>Watch：6        Star：44        Fork：33</h3></blockquote><h3 id="【没有-Readme-md-介绍】"><a href="#【没有-Readme-md-介绍】" class="headerlink" title="【没有 Readme.md 介绍】"></a>【没有 Readme.md 介绍】</h3><hr><h1 id="15"><a href="#15" class="headerlink" title="15#"></a>15#</h1><h1 id="https-github-com-CaledoniaProject-wooyun-offline-ui"><a href="#https-github-com-CaledoniaProject-wooyun-offline-ui" class="headerlink" title="https://github.com/CaledoniaProject/wooyun_offline_ui"></a><a href="https://github.com/CaledoniaProject/wooyun_offline_ui">https://github.com/CaledoniaProject/wooyun_offline_ui</a></h1><blockquote><h3 id="Watch：4-Star：40-Fork：19"><a href="#Watch：4-Star：40-Fork：19" class="headerlink" title="Watch：4        Star：40        Fork：19"></a>Watch：4        Star：40        Fork：19</h3></blockquote><h2 id="说明-2"><a href="#说明-2" class="headerlink" title="说明"></a>说明</h2><p>花了10分钟重做了一套乌云离线Web UI，重做总共有两个目的，</p><ol><li>没必要使用14GB的虚拟机，经过处理，40K漏洞只占用500MB mongodb 硬盘空间</li><li>上述作者没有提取 关注数、是否为有奖励或者漏洞预警的漏洞 等几个关键字段</li></ol><h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><p>支持漏洞标题搜索、漏洞wooyun id搜索</p><p><img src="../../blog-images/2020/wooyun-on-github/wooyun_offline_ui/screen.jpg" alt="screen"></p><p>支持漏洞查看（删除了评论），原始 wooyun UI</p><p><img src="../../blog-images/2020/wooyun-on-github/wooyun_offline_ui/screen2.jpg" alt="screen2"></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>复制 src 到 web 目录，e.g</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -R src ~&#x2F;web&#x2F;wooyun_offline</span><br></pre></td></tr></table></figure><p>安装 php-mongo 扩展</p><p>mongo 默认为 <code>127.0.0.1:27017</code>，如有不同，修改 <code>src/config.php</code> 即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$config &#x3D; array(</span><br><span class="line">&#39;mongodb&#39; &#x3D;&gt; &#39;mongodb:&#x2F;&#x2F;127.0.0.1:27017&#39;</span><br><span class="line">);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h2 id="导入数据"><a href="#导入数据" class="headerlink" title="导入数据"></a>导入数据</h2><p>导入到 <code>wooyun</code> 数据库，<code>bugs</code> 表即可</p><p>由于政策风险，我不能提供数据，可以用网上的14GB虚拟机导出</p><p>然后使用 <code>src/scripts/minify.pl</code> 精简 mongo 数据库</p><h2 id="已知问题"><a href="#已知问题" class="headerlink" title="已知问题"></a>已知问题</h2><ol><li>缺少 <code>images/blood.png</code></li><li>漏洞库不全，可惜没用高权限账号爬</li></ol><hr><h1 id="16"><a href="#16" class="headerlink" title="16#"></a>16#</h1><h1 id="https-github-com-lxj616-DVWA-WooYun"><a href="#https-github-com-lxj616-DVWA-WooYun" class="headerlink" title="https://github.com/lxj616/DVWA-WooYun"></a><a href="https://github.com/lxj616/DVWA-WooYun">https://github.com/lxj616/DVWA-WooYun</a></h1><blockquote><h3 id="Watch：1-Star：23-Fork：16"><a href="#Watch：1-Star：23-Fork：16" class="headerlink" title="Watch：1        Star：23        Fork：16"></a>Watch：1        Star：23        Fork：16</h3></blockquote><h2 id="DVWA-WooYun"><a href="#DVWA-WooYun" class="headerlink" title="DVWA-WooYun"></a>DVWA-WooYun</h2><p>DVWA-WooYun is a plugin-set for DVWA , with plugins based on wooyun.org real bug reports</p><p>It should have been a fork of the RandomStorm/DVWA , But while I was coding it , I didn’t know a thing about github :( </p><p>And now I do , so scavenged old codes to github</p><p>And I modified lot of things , can’t remember why , just messed around , It seems to be not able to merge with the original DVWA now</p><h2 id="DAMN-VULNERABLE-WEB-APP"><a href="#DAMN-VULNERABLE-WEB-APP" class="headerlink" title="DAMN VULNERABLE WEB APP"></a>DAMN VULNERABLE WEB APP</h2><p>Damn Vulnerable Web App (DVWA) is a PHP/MySQL web application that is damn vulnerable. Its main goals are to be an aid for security professionals to test their skills and tools in a legal environment, help web developers better understand the processes of securing web applications and aid teachers/students to teach/learn web application security in a class room environment.</p><h2 id="WARNING"><a href="#WARNING" class="headerlink" title="WARNING!"></a>WARNING!</h2><p>Damn Vulnerable Web App is damn vulnerable! Do not upload it to your hosting provider’s public html folder or any working web<br>server as it will be hacked. I recommend downloading and installing XAMPP onto a local machine inside your LAN which is used solely for testing. </p><p>We do not take responsibility for the way in which any one uses Damn Vulnerable Web App (DVWA). We have made the purposes of the application clear and it should not be used maliciously. We have given warnings and taken measures to prevent users from installing DVWA on to live web servers. If your web server is compromised via an installation of DVWA it is not our responsibility it is the responsibility of the person/s who uploaded and installed it.</p><h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>This file is part of Damn Vulnerable Web App (DVWA).</p><p>Damn Vulnerable Web App (DVWA) is free software: you can redistribute it and/or modify<br>it under the terms of the GNU General Public License as published by<br>the Free Software Foundation, either version 3 of the License, or<br>(at your option) any later version.</p><p>Damn Vulnerable Web App (DVWA) is distributed in the hope that it will be useful,<br>but WITHOUT ANY WARRANTY; without even the implied warranty of<br>MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br>GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License<br>along with Damn Vulnerable Web App (DVWA).  If not, see <a href="http://www.gnu.org/licenses/" rel="external nofollow noopener noreferrer" target="_blank">http://www.gnu.org/licenses/</a>.</p><h2 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h2><p>DVWA is available either as a package that will run on your own web server or as a Live CD</p><ul><li>DVWA v1.0.8 (latest) - (1.3MB) <a href="https://github.com/RandomStorm/DVWA/archive/v1.0.8.zip">Download</a></li><li>DVWA v1.0.7 LiveCD - (480MB) <a href="http://www.dvwa.co.uk/DVWA-1.0.7.iso" rel="external nofollow noopener noreferrer" target="_blank">Download</a></li></ul><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p><em>Default username = admin</em></p><p><em>Default password = password</em></p><p>Installation video:<br><a href="http://www.youtube.com/watch?v=GzIj07jt8rM" rel="external nofollow noopener noreferrer" target="_blank">http://www.youtube.com/watch?v=GzIj07jt8rM</a></p><p>The easiest way to install DVWA is to download and install ‘XAMPP’ if you do not already have a web server setup. </p><p>XAMPP is a very easy to install Apache Distribution for Linux, Solaris, Windows and Mac OS X. The package includes the Apache web server, MySQL, PHP, Perl, a FTP server and phpMyAdmin.</p><p>XAMPP can be downloaded from:<br><a href="http://www.apachefriends.org/en/xampp.html" rel="external nofollow noopener noreferrer" target="_blank">http://www.apachefriends.org/en/xampp.html</a></p><p>Simply unzip dvwa.zip, place the unzipped files in your public html folder, then point your browser to <a href="http://127.0.0.1/dvwa/index.php" rel="external nofollow noopener noreferrer" target="_blank">http://127.0.0.1/dvwa/index.php</a></p><h2 id="Database-Setup"><a href="#Database-Setup" class="headerlink" title="Database Setup"></a>Database Setup</h2><p>To set up the database, simply click on the Setup button in the main menu, then click on the ‘Create / Reset Database’ button. This will create / reset the database for you with some data in.</p><p>If you receive an error while trying to create your database, make sure your database credentials are correct within /config/config.inc.php</p><p>The variables are set to the following by default: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$_DVWA[ &#39;db_user&#39; ] &#x3D; &#39;root&#39;;</span><br><span class="line">$_DVWA[ &#39;db_password&#39; ] &#x3D; &#39;&#39;;</span><br><span class="line">$_DVWA[ &#39;db_database&#39; ] &#x3D; &#39;dvwa&#39;;</span><br></pre></td></tr></table></figure><h2 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h2><p>For the latest troubleshooting information please visit:<br><a href="http://code.google.com/p/dvwa/issues/list" rel="external nofollow noopener noreferrer" target="_blank">http://code.google.com/p/dvwa/issues/list</a></p><p>+Q. SQL Injection wont work on PHP version 5.2.6.</p><p>-A.If you are using PHP version 5.2.6 you will need to do the following in order for SQL injection and other vulnerabilities to work.</p><p>In .htaccess:</p><p>  Replace:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;IfModule mod_php5.c&gt;</span><br><span class="line">  php_flag magic_quotes_gpc off</span><br><span class="line">  #php_flag allow_url_fopen on</span><br><span class="line">  #php_flag allow_url_include on</span><br><span class="line">&lt;&#x2F;IfModule&gt;</span><br></pre></td></tr></table></figure><p>  With:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;IfModule mod_php5.c&gt;</span><br><span class="line">  magic_quotes_gpc &#x3D; Off</span><br><span class="line">  allow_url_fopen &#x3D; On</span><br><span class="line">  allow_url_include &#x3D; On</span><br><span class="line">&lt;&#x2F;IfModule&gt;</span><br></pre></td></tr></table></figure><p>+Q. Command execution won’t work.</p><p>-A. Apache may not have high enough priviledges to run commands on the web server. If you are running DVWA under linux make sure you are logged in as root. Under Windows log in as Administrator.</p><p>+Q. My XSS payload won’t run in IE.</p><p>-A. If your running IE8 or above IE actively filters any XSS. To disable the filter you can do so by setting the HTTP header ‘X-XSS-Protection: 0’ or disable it from internet options. There may also be ways to bypass the filter.</p><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><p>Homepage: <a href="http://www.dvwa.co.uk" rel="external nofollow noopener noreferrer" target="_blank">http://www.dvwa.co.uk</a></p><p>Project Home: <a href="https://github.com/RandomStorm/DVWA">https://github.com/RandomStorm/DVWA</a></p><p><em>Created by the DVWA team</em></p><hr><h1 id="17"><a href="#17" class="headerlink" title="17#"></a>17#</h1><h1 id="https-github-com-neargle-SecNewsBak"><a href="#https-github-com-neargle-SecNewsBak" class="headerlink" title="https://github.com/neargle/SecNewsBak"></a><a href="https://github.com/neargle/SecNewsBak">https://github.com/neargle/SecNewsBak</a></h1><blockquote><h3 id="Watch：2-Star：20-Fork：17"><a href="#Watch：2-Star：20-Fork：17" class="headerlink" title="Watch：2        Star：20        Fork：17"></a>Watch：2        Star：20        Fork：17</h3></blockquote><h2 id="README"><a href="#README" class="headerlink" title="README"></a>README</h2><p>该项目只用于备份Sec-News上Drops乌云知识库的失效文章，并非Drops整站文章。</p><p>文章列表如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">drops_arti_list = [</span><br><span class="line"><span class="string">"SQL注入速查表（上）"</span>,</span><br><span class="line"><span class="string">"WMI Attacks"</span>,</span><br><span class="line"><span class="string">"攻击洋葱路由(Tor)匿名服务的一些综述"</span>,</span><br><span class="line"><span class="string">"SQL注入速查表（下）与Oracle注入速查表"</span>,</span><br><span class="line"><span class="string">"Hacking ipcam like Harold in POI"</span>,</span><br><span class="line"><span class="string">"海豚浏览器与水星浏览器远程代码执行漏洞详解"</span>,</span><br><span class="line"><span class="string">"WMI Backdoor"</span>,</span><br><span class="line"><span class="string">"手把手教你当微信运动第一名 – 利用Android Hook进行微信运动作弊"</span>,</span><br><span class="line"><span class="string">"WMI Defense"</span>,</span><br><span class="line"><span class="string">"Tomcat安全配置"</span>,</span><br><span class="line"><span class="string">"利用Weblogic进行入侵的一些总结"</span>,</span><br><span class="line"><span class="string">"工控安全入门分析"</span>,</span><br><span class="line"><span class="string">"利用被入侵的路由器获取网络流量"</span>,</span><br><span class="line"><span class="string">"利用白名单绕过360实例"</span>,</span><br><span class="line"><span class="string">"浅析大规模DDOS防御架构-应对T级攻防"</span>,</span><br><span class="line"><span class="string">"XCode编译器里有鬼 – XCodeGhost样本分析"</span>,</span><br><span class="line"><span class="string">"借用UAC完成的提权思路分享"</span>,</span><br><span class="line"><span class="string">"TcpDump使用手册"</span>,</span><br><span class="line"><span class="string">"被人遗忘的Memcached内存注射"</span>,</span><br><span class="line"><span class="string">"利用被入侵的路由器迈入内网"</span>,</span><br><span class="line"><span class="string">"Android sqlite load_extension漏洞解析"</span>,</span><br><span class="line"><span class="string">"CTF主办方指南之对抗搅屎棍"</span>,</span><br><span class="line"><span class="string">"域渗透的金之钥匙"</span>,</span><br><span class="line"><span class="string">"比葫芦娃还可怕的百度全系APP SDK漏洞 - WormHole虫洞漏洞分析报告"</span>,</span><br><span class="line"><span class="string">"那些年做过的ctf之加密篇"</span>,</span><br><span class="line"><span class="string">"从一个锁主页木马里挖出的惊天“暗杀黑名单”"</span>,</span><br><span class="line"><span class="string">"C&amp;C控制服务的设计和侦测方法综述"</span>,</span><br><span class="line"><span class="string">"Python安全编码指南"</span>,</span><br><span class="line"><span class="string">"翻墙路由器的原理与实现"</span>,</span><br><span class="line"><span class="string">"几期『三个白帽』小竞赛的writeup"</span>,</span><br><span class="line"><span class="string">"拆分密码"</span>,</span><br><span class="line"><span class="string">"变种XSS：持久控制"</span>,</span><br><span class="line"><span class="string">"使用32位64位交叉编码混淆来打败静态和动态分析工具"</span>,</span><br><span class="line"><span class="string">"給初學者的DLL Side Loading的UAC繞過"</span>,</span><br><span class="line"><span class="string">"Joomla远程代码执行漏洞分析"</span>,</span><br><span class="line"><span class="string">"网络小黑揭秘系列之黑色SEO初探"</span>,</span><br><span class="line"><span class="string">"一步一步学ROP之Android ARM 32位篇"</span>,</span><br><span class="line"><span class="string">"Linux入侵检测基础"</span>,</span><br><span class="line"><span class="string">"Android WebView File域攻击杂谈"</span>,</span><br><span class="line"><span class="string">"小议Linux安全防护(一)"</span>,</span><br><span class="line"><span class="string">"Powershell 提权框架-Powerup"</span>,</span><br><span class="line"><span class="string">"Android Linker学习笔记"</span>,</span><br><span class="line"><span class="string">"MD5碰撞的演化之路"</span>,</span><br><span class="line"><span class="string">"Android应用安全开发之源码安全"</span>,</span><br><span class="line"><span class="string">"Ruby on Rails 动态渲染远程代码执行漏洞 (CVE-2016-0752)(翻译)"</span>,</span><br><span class="line"><span class="string">"中间人攻击 -- Cookie喷发"</span>,</span><br><span class="line"><span class="string">"域渗透——Security Support Provider"</span>,</span><br><span class="line"><span class="string">"LUA脚本虚拟机逃逸技术分析"</span>,</span><br><span class="line"><span class="string">"我的通行你的证"</span>,</span><br><span class="line"><span class="string">"在不需要知道密码的情况下 Hacking MSSQL"</span>,</span><br><span class="line"><span class="string">"代码审计入门总结"</span>,</span><br><span class="line"><span class="string">"Linux服务器应急事件溯源报告"</span>,</span><br><span class="line"><span class="string">"Head First FILE Stream Pointer Overflow"</span>,</span><br><span class="line"><span class="string">"从 WTForm 的 URLXSS 谈开源组件的安全性"</span>,</span><br><span class="line"><span class="string">"网络小黑揭秘系列之黑产江湖黑吃黑—中国菜刀的隐形把手"</span>,</span><br><span class="line"><span class="string">"简单验证码识别及工具编写思路"</span>,</span><br><span class="line"><span class="string">"中国菜刀仿冒官网三百万箱子爆菊记"</span>,</span><br><span class="line"><span class="string">"Rails Security (上) "</span>,</span><br><span class="line"><span class="string">"富文本存储型XSS的模糊测试之道"</span>,</span><br><span class="line"><span class="string">"主机被入侵分析过程报告"</span>,</span><br><span class="line"><span class="string">"Exploring SSTI in Flask/Jinja2 | WooYun知识库"</span>,</span><br><span class="line"><span class="string">"0ctf writeup"</span>,</span><br><span class="line"><span class="string">"一个支付宝木马的分析溯源之旅"</span>,</span><br><span class="line"><span class="string">"QQ模拟登录实现后篇"</span>,</span><br><span class="line"><span class="string">"渗透技巧——通过cmd上传文件的N种方法"</span>,</span><br><span class="line"><span class="string">"通过ELF动态装载构造ROP链 （ Return-to-dl-resolve）"</span>,</span><br><span class="line"><span class="string">"Mysql报错注入原理分析(count()、rand()、group by)"</span>,</span><br><span class="line"><span class="string">"利用反射型XSS二次注入绕过CSP form-action限制"</span>,</span><br><span class="line"><span class="string">"渗透Hacking Team过程"</span>,</span><br><span class="line"><span class="string">"“信任“之殇――安全软件的“白名单”将放大恶意威胁"</span>,</span><br><span class="line"><span class="string">"百脑虫之hook技术"</span>,</span><br><span class="line"><span class="string">"内网渗透中转发工具总结"</span>,</span><br><span class="line"><span class="string">"TCP安全测试指南-魔兽3找联机0day"</span>,</span><br><span class="line"><span class="string">"CVE-2016-3714 - ImageMagick 命令执行分析"</span>,</span><br><span class="line"><span class="string">"CVE-2016-1897/8 - FFMpeg漏洞分析"</span>,</span><br><span class="line"><span class="string">"漫谈流量劫持"</span>,</span><br><span class="line"><span class="string">"新姿势之Docker Remote API未授权访问漏洞分析和利用"</span>,</span><br><span class="line"><span class="string">"利用CouchDB未授权访问漏洞执行任意系统命令"</span>,</span><br><span class="line"><span class="string">"利用环境变量LD_PRELOAD来绕过php disable_function执行系统命令"</span>,</span><br><span class="line"><span class="string">"CTF中比较好玩的stego"</span>,</span><br><span class="line"><span class="string">"linux下tomcat安全配置"</span>,</span><br><span class="line"><span class="string">"MySQL和PostgreSQL数据库安全配置"</span>,</span><br><span class="line"><span class="string">"内网渗透思路探索之新思路的探索与验证"</span>,</span><br><span class="line"><span class="string">"小窥TeslaCrypt密钥设计"</span>,</span><br><span class="line"><span class="string">"Do Evil Things with gopher://"</span>,</span><br><span class="line"><span class="string">"三个白帽条条大路通罗马系列2之二进制题分析"</span>,</span><br><span class="line"><span class="string">"Android安全开发之Provider组件安全"</span>,</span><br><span class="line"><span class="string">"漏洞检测的那些事儿 "</span>,</span><br><span class="line"><span class="string">"QQ浏览器隐私泄露报告"</span>,</span><br><span class="line"><span class="string">"三个白帽之从pwn me调试到Linux攻防学习"</span>,</span><br><span class="line"><span class="string">"渗透中寻找突破口的那些事"</span>,</span><br><span class="line"><span class="string">"Struts2 S033与最新S037详细分析"</span>,</span><br><span class="line"><span class="string">"DB2在渗透中的应用"</span>,</span><br><span class="line"><span class="string">"Python urllib HTTP头注入漏洞 (中文翻译)"</span>,</span><br><span class="line"><span class="string">"SQL注入关联分析"</span>,</span><br><span class="line"><span class="string">"Anti-debugging Skills in APK"</span>,</span><br><span class="line"><span class="string">"玩转Metasploit之Automated Persistent Backdoor"</span>,</span><br><span class="line"><span class="string">"Uber渗透案例：我们是如何发现你是谁，你在哪，你要打车去哪！"</span>,</span><br><span class="line"><span class="string">"玩转Metasploit之Automated Persistent Backdoor"</span>,</span><br><span class="line"><span class="string">"Docker安全那些事 "</span>,</span><br><span class="line"><span class="string">"Use bitsadmin to maintain persistence and bypass Autoruns "</span>,</span><br><span class="line"><span class="string">"CTF中那些脑洞大开的编码和加密 "</span>,</span><br><span class="line"><span class="string">"Jenkins RCE 2(CVE-2016-0788)分析及利用"</span>,</span><br><span class="line"><span class="string">"小议安卓定位伪造-实战足不出户畅玩pokemon go"</span>,</span><br><span class="line"><span class="string">"三个白帽挑战赛之[续集]火币网2W大挑战Writeup"</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><hr><h1 id="18"><a href="#18" class="headerlink" title="18#"></a>18#</h1><h1 id="https-github-com-acgpiano-wooyun-node"><a href="#https-github-com-acgpiano-wooyun-node" class="headerlink" title="https://github.com/acgpiano/wooyun-node"></a><a href="https://github.com/acgpiano/wooyun-node">https://github.com/acgpiano/wooyun-node</a></h1><blockquote><h3 id="Watch：2-Star：9-Fork：8"><a href="#Watch：2-Star：9-Fork：8" class="headerlink" title="Watch：2        Star：9        Fork：8"></a>Watch：2        Star：9        Fork：8</h3></blockquote><h2 id="wooyun-node"><a href="#wooyun-node" class="headerlink" title="wooyun-node"></a>wooyun-node</h2><p>这是wooyun.org镜像的node.js版本，用的mysql，支持标题，作者，类型，厂商检索。<br>方便新手小白使用，搭建方法非常简单。<br>首先需要安装mysql，要把数据库语言设置成utf8(非常重要，不然会出错)。由于各个系统设置方法不同，需自行百度。检测是否成功可以登进数据库，执行   </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">status;</span><br></pre></td></tr></table></figure><p>如果是以下状态，就代表可以下一步了。<br>把该项目克隆到本地  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;acgpiano&#x2F;wooyun-node.git</span><br></pre></td></tr></table></figure><p>修改config.js里面的用户名和密码，改为你的mysql的用户名和密码，port是服务的端口，可以自行修改。<br>下载wooyun的静态资源:<br>链接: <a href="https://pan.baidu.com/share/init?shareid=3613354206&uk=4113422303" rel="external nofollow noopener noreferrer" target="_blank">百度网盘</a> 密码: mqnp<br>需要解压到wooyun-node/static/bugs/<br>文件夹下面(自行新建bugs文件夹)<br>接下来安装node.js，去官网下载就好了。<br>接下来安装cnpm(如果可以连Internet这一步可以忽略,以下命令的cnpm全都可以用npm代替)  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>然后在wooyun-node里执行  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install</span><br></pre></td></tr></table></figure><p>等所有的依赖装完再执行  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run db</span><br></pre></td></tr></table></figure><p>等数据库建表完后，共40293条，再执行  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure><p>默认port端口是9999，可以在config.js里面修改<br>打开浏览器 <a href="http://127.0.0.1:9999就可以使用了。" rel="external nofollow noopener noreferrer" target="_blank">http://127.0.0.1:9999就可以使用了。</a></p><p>仅供自学使用，如果要部署到公网可以自己改用orm，修改表结构加速查询，防注入。</p><hr><h1 id="当然是彩蛋辣"><a href="#当然是彩蛋辣" class="headerlink" title="当然是彩蛋辣~"></a>当然是彩蛋辣~</h1><h3 id="上面提到的-Baidu网盘-链接整理："><a href="#上面提到的-Baidu网盘-链接整理：" class="headerlink" title="上面提到的 Baidu网盘 链接整理："></a>上面提到的 Baidu网盘 链接整理：</h3><blockquote><p><a href="https://github.com/hanc00l/wooyun_public">https://github.com/hanc00l/wooyun_public</a><br>Watch：224        Star：3586        Fork：1.8k</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">虚拟机下载地址：</span><br><span class="line">https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;1HkR4ggvAwTikshsjcKYBuA ，提取密码：8wnb（2018.4.23更新）</span><br><span class="line">【文件名：ooyun_vmware_201606_es】</span><br><span class="line"></span><br><span class="line">虚拟机下载地址： https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;1qYRqa3U 密码: w8vb (2017.7.4)</span><br><span class="line">【文件名：wooyun_final】</span><br><span class="line">虚拟机用户名、密码为hancool&#x2F;qwe123</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/m0l1ce/wooyunallbugs">https://github.com/m0l1ce/wooyunallbugs</a><br>Watch：21        Star：398        Fork：154</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">链接:https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;1htwVF3Q 密码:oskw</span><br><span class="line">【文件名：wooyun-15-a.zip等】</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/grt1st/wooyun_search">https://github.com/grt1st/wooyun_search</a><br>Watch：22        Star：327        Fork：157</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">静态网页网盘链接：</span><br><span class="line">bugs   链接: https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;1n_kkUaZZxcTEa4-v6sGa9Q 密码: sg98 (20180707)</span><br><span class="line">【文件名：WooYun_Bugs(漏洞库)】</span><br><span class="line">drops  链接: https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;1r2Y7rfntwnjglX6HtzDk6w 密码: 738f (20180707)</span><br><span class="line">【文件名：WooYun_Drops(知识库)】</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/acgpiano/wooyun-node">https://github.com/acgpiano/wooyun-node</a><br>Watch：2        Star：9        Fork：8</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">链接: https:&#x2F;&#x2F;pan.baidu.com&#x2F;share&#x2F;init?shareid&#x3D;3613354206&amp;uk&#x3D;4113422303 密码: mqnp</span><br><span class="line">【文件名：WooYun_Bugs(漏洞库)】</span><br></pre></td></tr></table></figure><hr><h1 id="当然还有彩蛋辣"><a href="#当然还有彩蛋辣" class="headerlink" title="当然还有彩蛋辣~"></a>当然还有彩蛋辣~</h1><p>新建一个文件夹，在里面打开终端，复制粘贴下面代码，或者保存为 .sh （linux）、 .bat （Windows），命令行调用辣</p><p><strong>注意</strong>：最后三个库特别大，如果网络不好，可能出现 git 连接超时，可以连接更优网络，或参考我的文章</p><ul><li><a href="https://blog.tcpsoft.app/2020/02/let-git-fly-scientifically/">科学地让 Git 飞，git clone 速度 5Mb/s</a></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/hanc00l/wooyun_public</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/boy-hack/wooyun-payload</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/m0l1ce/wooyunallbugs</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/SuperKieran/WooyunDrops</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/SuperKieran/wooyun-img</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/grt1st/wooyun_search</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/LubyRuffy/wyquery</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/jas502n/fuzz-wooyun-org</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/xinali/wooyun</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/l3m0n/wooyun-wiki</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/fxfactorial/wooyun.github.io</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/CaledoniaProject/wooyun_offline_ui</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/lxj616/DVWA-WooYun</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/neargle/SecNewsBak</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/acgpiano/wooyun-node</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/Xyntax/1000php            1000php-Xyntax</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/starnightcyber/1000php    1000php-starnightcyber</span><br><span class="line"><span class="built_in">echo</span> .</span><br><span class="line">git <span class="built_in">clone</span>  https://github.com/jiji262/wooyun_articles</span><br><span class="line"><span class="built_in">echo</span> .</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;翻阅 Wooyun ，然后找到了Github上。。。不得不说，Github 上确实有大量镜像资源&lt;/p&gt;
&lt;p&gt;在这里做一个总结吧。按 Star 排序，把每个库的 Readme.md 剪辑到了这里。&lt;/p&gt;
&lt;p&gt;文尾有彩蛋！&lt;/p&gt;
    
    </summary>
    
    
      <category term="none" scheme="https://blog.tcpsoft.app/categories/none/"/>
    
    
      <category term="wooyun" scheme="https://blog.tcpsoft.app/tags/wooyun/"/>
    
      <category term="github" scheme="https://blog.tcpsoft.app/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>hexo + CloudFlare = 速度飞起</title>
    <link href="https://blog.tcpsoft.app/2020/02/hexo-with-cloudflare/"/>
    <id>https://blog.tcpsoft.app/2020/02/hexo-with-cloudflare/</id>
    <published>2020-02-10T01:57:09.000Z</published>
    <updated>2020-02-11T17:53:28.120Z</updated>
    
    <content type="html"><![CDATA[<p>昨天配置了 Google、Baidu、Bing搜索引擎提交，不过比较悲催的是 Github Pages 服务器拒绝 BaiduSpider ，整个站点根本不能出现在 Baidu 里面好么！！ 另一方面，速度过慢，github pages 在国内速度，不太理想，所以用 CloudFlare 老牌 cdn 加速整站，还可以被 BaiduSpider 收录。<a id="more"></a></p><p>参考了这篇文章： <a href="https://blog.csdn.net/qianghaohao/article/details/83714575" rel="external nofollow noopener noreferrer" target="_blank">基于 Hexo 的 GitHub Pages 配置 CloudFlare CDN_qhh0205-CSDN博客</a></p><h2 id="准备好-GitHub-和-CloudFlare"><a href="#准备好-GitHub-和-CloudFlare" class="headerlink" title="准备好 GitHub 和 CloudFlare"></a>准备好 GitHub 和 CloudFlare</h2><p>有一个 github 账户，添加 username.github.io 库，把 hexo 发布到存储库，不多说了。</p><p>注册 CloudFlare 账号并登录。</p><h2 id="在-CloudFlare-添加站点"><a href="#在-CloudFlare-添加站点" class="headerlink" title="在 CloudFlare 添加站点"></a>在 CloudFlare 添加站点</h2><p>在 CloudFlare 添加站点，并检查 DNS 记录，确认导入 CloudFlare 中。</p><p>在域名购买商处修改 DNS 服务器为 CloudFlare 提供的两个 DNS 服务器，等待生效之后继续操作</p><p><strong>注意</strong> ：修改 DNS 服务器可能会导致某些记录丢失（像 Google 域名验证、letsencrypt 域名验证）（因为不是全部同步过去），所以在更改之前可以在旧 DNS 控制台，记录下各个 DNS 记录（截屏或手抄），后期可再写入新纪录</p><p><strong>Ps</strong>：实验表明： CloudFlare 会同步大部分DNS记录，但是还是有部分子域名会漏掉，看个人情况是否手动记录原 DNS </p><p><img src="../../blog-images/2020/hexo-with-cloudflare/image-20200210152724656.png" alt="image-20200210152724656"></p><p><img src="../../blog-images/2020/hexo-with-cloudflare/image-20200210112341702.png" alt="image-20200210112341702"></p><p>修改 DNS 服务器：</p><p><img src="../../blog-images/2020/hexo-with-cloudflare/image-20200210112513410.png" alt="image-20200210112513410"></p><p>等待生效，可用 <code>nslookup -q=ns tcpsoft.app</code> 查询 DNS 解析服务器情况（本地的好像更新有点慢），其实 CloudFlare 在检测到 DNS 服务器修改成功之后会发邮件通知的。</p><p>然后在 CloudFlare 检查域名服务器，进行下一步操作，设置一些网站的自定义选项，包括是否开启浏览器到CF</p><p>的安全连接，是否开启CF到源服务器的安全连接，是否启用 Brotli 压缩来传输数据等。</p><p>然后就可以查看 DNS 设置，有黄色云图标的就是 CloudFlare 开启代理的</p><p><img src="../../blog-images/2020/hexo-with-cloudflare/image-20200210120918605.png" alt="image-20200210120918605"></p><p>我们可以用 dig （linux）或 nslookup （linux、Windows）查看域名解析情况。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">root@Mi-CP /m/c/U/CP# dig blog.tcpsoft.app</span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.10.3-P4-Ubuntu &lt;&lt;&gt;&gt; blog.tcpsoft.app</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 45170</span><br><span class="line">;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 0, ADDITIONAL: 0</span><br><span class="line"></span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;blog.tcpsoft.app.              IN      A</span><br><span class="line"></span><br><span class="line">;; ANSWER SECTION:</span><br><span class="line">blog.tcpsoft.app.       900     IN      CNAME   tcpsoftware.github.io.</span><br><span class="line">tcpsoftware.github.io.  900     IN      A       185.199.110.153</span><br><span class="line">tcpsoftware.github.io.  900     IN      A       185.199.108.153</span><br><span class="line">tcpsoftware.github.io.  900     IN      A       185.199.111.153</span><br><span class="line">tcpsoftware.github.io.  900     IN      A       185.199.109.153</span><br><span class="line"></span><br><span class="line">;; Query time: 1990 msec</span><br><span class="line">;; SERVER: 223.5.5.5#53(223.5.5.5)</span><br><span class="line">;; WHEN: Mon Feb 10 12:12:47 CST 2020</span><br><span class="line">;; MSG SIZE  rcvd: 133</span><br><span class="line"></span><br><span class="line">root@Mi-CP /m/c/U/CP# nslookup blog.tcpsoft.app</span><br><span class="line">Server:         223.5.5.5</span><br><span class="line">Address:        223.5.5.5#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">blog.tcpsoft.app        canonical name = tcpsoftware.github.io.</span><br><span class="line">Name:   tcpsoftware.github.io</span><br><span class="line">Address: 185.199.110.153</span><br><span class="line">Name:   tcpsoftware.github.io</span><br><span class="line">Address: 185.199.108.153</span><br><span class="line">Name:   tcpsoftware.github.io</span><br><span class="line">Address: 185.199.109.153</span><br><span class="line">Name:   tcpsoftware.github.io</span><br><span class="line">Address: 185.199.111.153</span><br><span class="line"></span><br><span class="line">root@Mi-CP /m/c/U/CP#</span><br></pre></td></tr></table></figure><p>我们可以看到解析了四个 IP，而我的 DNS 设置只有一个 CNAME，查询这个 IP，发现是 CDN，设置成功。</p><h2 id="开启DNSSEC，防止-DNS-劫持"><a href="#开启DNSSEC，防止-DNS-劫持" class="headerlink" title="开启DNSSEC，防止 DNS 劫持"></a>开启DNSSEC，防止 DNS 劫持</h2><p>在 CloudFlare 的 DNS 管理面板往下翻可以看到 DNSSEC 选项，DNSSEC 是 DNS 安全扩展，采用加密方式，防止 DNS 劫持</p><p><img src="../../blog-images/2020/hexo-with-cloudflare/image-20200210122448916.png" alt="image-20200210122448916"></p><p>CF 提供了十多个参数，转到域名注册商处，填入注册商要求的对应参数即可。</p><p>等待十多分钟至一个小时，CloudFlare 上的 DNSSEC 会检测到设置成功，提示 Success！</p><p><img src="../../blog-images/2020/hexo-with-cloudflare/image-20200210125156256.png" alt="image-20200210125156256"></p><h2 id="又掉坑：“重定向次数过多”"><a href="#又掉坑：“重定向次数过多”" class="headerlink" title="又掉坑：“重定向次数过多”"></a>又掉坑：“重定向次数过多”</h2><p>刚才的配置好之后，满以为可以运行的飞起来了，结果，打 ！不 ！开 ！了 ！</p><img src="../../blog-images/2020/hexo-with-cloudflare/image-20200210143346231.png" alt="image-20200210143346231" style="zoom:50%;"><p>一番查询发现是：CloudFlare SSL 选项开的是 Flexible。</p><p><img src="../../blog-images/2020/hexo-with-cloudflare/image-20200210143616798.png" alt="image-20200210143616798"></p><p>下面文字摘自 参考链接：<a href="https://www.wpzhiku.com/wordpress-wang-zhan-shi-yong-cloudflare-hou-ti-shi-jiang-nin-chong-ding-xiang-de-ci-shu-guo-duo-de-yuan-yin-ji-jie-jue-ban-fa/" rel="external nofollow noopener noreferrer" target="_blank">WordPress 网站使用 CloudFlare 后提示“将您重定向的次数过多” 的原因及解决办法 _WordPress智库</a></p><p>Cloudflare CDN 配置</p><ul><li><p>Off：不开启https。</p></li><li><p>Flexible：当我们的源网站没有配置 HTTPS 支持时，启用这个选项，Cloudflare 会在回源的时候通过 HTTP 协议访问我们的网站。</p></li><li><p>Full：当我们的源网站支持 HTTPS，但是 HTTPS 证书和域名不匹配或者是自签名证书时，Cloudflare 会通过 HTTPS 协议访问源网站，但不会验证证书，也就是说，即使我们的源网站提供的 HTTPS 证书不受浏览器信任，Cloudflare 也会通过 HTTPS 回源网站。</p></li><li><p>Full(strict)：当我们的源网站支持 HTTP ，并且证书有效时（未过期且受信任）。Cloudflare 会通过 HTTPS 协议访问源网站，并在每个请求过程中验证证书。</p></li></ul><p>了解了上面各个设置的功能，我们来看一下 Cloudflare 的循环重定向问题是怎么出现的，在 Cloudflare 中开启了 SSL 后，访问网站时出现循环重定向需满足下面两个条件：</p><ol><li>SSL 中设置了 Flexible，CDN 以 HTTP 协议回源网站。</li><li>源网站支持 HTTPS，并且设置了通过 HTTP 协议访问时，自动跳转到 HTTPS 协议。</li></ol><p>到这里，可能就有朋友发现问题了，我们访问 Cloudflare 的 CDN 服务器的时候，是通过 HTTPS 访问的，CDN 访问源网站的时候，是通过 HTTP 访问的，源网站上 HTTP 又自动跳转了 HTTPS，完美的一个循环重定向。重定向的次数多了，浏览器就撂挑子报出了 ERR_TOO_MANY_REDIRECTS 的错误。</p><h2 id="CloudFlare-造成重定向的次数过多问题的解决办法"><a href="#CloudFlare-造成重定向的次数过多问题的解决办法" class="headerlink" title="CloudFlare 造成重定向的次数过多问题的解决办法"></a>CloudFlare 造成重定向的次数过多问题的解决办法</h2><p>知道了循环重定向的原因，我们也就知道了怎么解决这个问题，通过测试，下面的两种设置方法都可以解决 Cloudflare 循环重定向的问题。</p><ul><li>SSL 中选择 Full 或者 Full(strict)，让 CDN 回源的时候使用 HTTPS 的方式回源，没有 HTTP 什么事了，就不会跳来跳去了</li><li>源网站不设置 HTTPS 支持或者 不设置 HTTP 跳转 HTTPS，让 Cloudflare 回源的时候使用 HTTP 方式获取资源。</li></ul><p>修改了 CloudFlare 设置后，可能需要过几分钟或清理浏览器缓存后才能生效。</p><p>除了 Cloudflare，使用其他 CDN 提供商的时候，也可能会出现这个问题，如果设置了 CDN 后，遇到了 Chrome 报重定向次数过多的问题，可以通过上面的思路查找问题。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;昨天配置了 Google、Baidu、Bing搜索引擎提交，不过比较悲催的是 Github Pages 服务器拒绝 BaiduSpider ，整个站点根本不能出现在 Baidu 里面好么！！ 另一方面，速度过慢，github pages 在国内速度，不太理想，所以用 CloudFlare 老牌 cdn 加速整站，还可以被 BaiduSpider 收录。
    
    </summary>
    
    
      <category term="建站" scheme="https://blog.tcpsoft.app/categories/%E5%BB%BA%E7%AB%99/"/>
    
    
      <category term="hexo" scheme="https://blog.tcpsoft.app/tags/hexo/"/>
    
      <category term="cdn" scheme="https://blog.tcpsoft.app/tags/cdn/"/>
    
      <category term="cloudflare" scheme="https://blog.tcpsoft.app/tags/cloudflare/"/>
    
  </entry>
  
  <entry>
    <title>hexo seo 优化</title>
    <link href="https://blog.tcpsoft.app/2020/02/hexo-seo/"/>
    <id>https://blog.tcpsoft.app/2020/02/hexo-seo/</id>
    <published>2020-02-09T08:06:20.000Z</published>
    <updated>2020-02-11T17:53:24.399Z</updated>
    
    <content type="html"><![CDATA[<p>害呀，hexo 都做了这么多了，干脆把google 统计一起加上去得了。Google Analytics、Google添加站点，baidu 添加站点、bing 添加站点，通通加上！</p><a id="more"></a><h2 id="google-analytics"><a href="#google-analytics" class="headerlink" title="google analytics"></a>google analytics</h2><ul><li><p>访问<a href="https://analytics.google.com/" rel="external nofollow noopener noreferrer" target="_blank">Google Analytics</a>，需要科学上网并用google账号登录，之后按照提示填写网站信息开通GA服务，获取统计ID。</p></li><li><p>编辑<code>主题配置文件</code>, 找到关键字<code>google_analytics</code> , 删除注释<code>#</code>并填写获取到的统计ID</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">google_analytics:</span></span><br><span class="line">  <span class="attr">tracking_id:</span> <span class="string">UA-XXXXXXXXX-X</span> <span class="comment"># &lt;app_id&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="robots-txt"><a href="#robots-txt" class="headerlink" title="robots.txt"></a>robots.txt</h2><p>在 source 目录下添加 robots.txt ，编写爬虫规则，下面是我的 robots.txt</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">User-agent:</span> <span class="string">*</span></span><br><span class="line"><span class="attr">Allow:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">Allow:</span> <span class="string">/archives/</span></span><br><span class="line"><span class="attr">Allow:</span> <span class="string">/tags/</span></span><br><span class="line"><span class="attr">Allow:</span> <span class="string">/categories/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">Disallow:</span> <span class="string">/vendors/</span></span><br><span class="line"><span class="attr">Disallow:</span> <span class="string">/js/</span></span><br><span class="line"><span class="attr">Disallow:</span> <span class="string">/lib/</span></span><br><span class="line"><span class="attr">Disallow:</span> <span class="string">/css/</span></span><br><span class="line"><span class="attr">Disallow:</span> <span class="string">/fonts/</span></span><br><span class="line"><span class="attr">Disallow:</span> <span class="string">/vendors/</span></span><br><span class="line"><span class="attr">Disallow:</span> <span class="string">/fancybox/</span></span><br><span class="line"><span class="attr">Disallow:</span> <span class="string">/old/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">Sitemap:</span> <span class="string">http://blog.tcpsoft.app/sitemap.xml</span></span><br><span class="line"><span class="attr">Sitemap:</span> <span class="string">http://blog.tcpsoft.app/baidusitemap.xml</span></span><br></pre></td></tr></table></figure><h2 id="Google-Search-Console"><a href="#Google-Search-Console" class="headerlink" title="Google Search Console"></a>Google Search Console</h2><p><img src="../../blog-images/2020/hexo-seo/image-20200209180807809.png" alt="image-20200209180807809"></p><p>提交整个域名或者某个子域名到 google，我这里提交“网域”即整个域名。</p><p>输入tcpsoft.app，点继续，会开始验证。</p><p><img src="../../blog-images/2020/hexo-seo/image-20200209181014294.png" alt="image-20200209181014294"></p><p>在域名购买处修改 DNS 记录或者自己的 DNS 托管商处修改，添加一条特定的 TXT 记录。</p><p><strong>小贴士</strong>  用 linux 命令<code>dig hostname</code> 或 <code>nslookup -q=TXT hostname</code>可查询DNS是否生效（后者windows也可用）</p><p>这个地方有一点坑的是需要设置 name 为 @，值为 google-site-verification=XXXXXX ，而不是 name 为 google-site-verification</p><p><img src="../../blog-images/2020/hexo-seo/image-20200209184813570.png" alt="image-20200209184813570"></p><p>设置记录，稍等片刻（或者等半天）记录生效之后，点击验证，验证成功</p><p><img src="../../blog-images/2020/hexo-seo/image-20200209184707276.png" alt="image-20200209184707276"></p><p>之后就可以进行管理辣。</p><p>接下来提交 sitemap，站点地图，帮助机器人抓取网站</p><p>之后就可以通过 google 搜索命令 <code>site:blog.tcpsoft.app</code> 查看站点收录情况</p><p><img src="../../blog-images/2020/hexo-seo/image-20200209185519286.png" alt="image-20200209185519286"></p><h2 id="Baidu搜索资源平台"><a href="#Baidu搜索资源平台" class="headerlink" title="Baidu搜索资源平台"></a>Baidu搜索资源平台</h2><p>打开Baidu搜索资源平台，添加网站</p><p><img src="../../blog-images/2020/hexo-seo/image-20200209201555631.png" alt="image-20200209201555631"></p><p>填入主域名 <code>https://tcpsoft.app</code> 选择网站分类，准备验证，可通过文件验证，html 标签验证，CNAME 验证，此处我选择 CNAME 验证，将 H9JpujyZsP.tcpsoft.app 使用 CNAME 解析到 ziyuan.baidu.com。和之前一样，在托管商添加DNS记录。</p><p><strong>小贴士</strong>  可用 <code>dig hostname</code> 或 <code>nslookup -q=CNAME hostname</code> 可查看DNS是否生效，同上文。</p><p><img src="../../blog-images/2020/hexo-seo/image-20200209202629054.png" alt="image-20200209202629054"></p><p>添加记录生效后就点击完成验证，稍等一会儿，提示验证成功，可以选择批量添加子站。</p><p>和 google 不同，这里的需要手动一条条添加。（还有一点隐私保护的味道呢 [滑稽] ）手动填入子域名即可。</p><p><img src="../../blog-images/2020/hexo-seo/image-20200209203148808.png" alt="image-20200209203148808"></p><p>通过 html 标签验证添加，会要求 head 中添加标签，此处 hexo 有集成，在 hexo 修改配置就可。</p><p><img src="../../blog-images/2020/hexo-seo/image-20200209204126442.png" alt="image-20200209204126442"></p><p>复制 baidu 提供的 content，在 next 主题的 _config.yml中搜索 <code>baidu_site_verification:</code> 填入，然后再 <code>hexo g -d</code> 发布一次，检查有标签后，点击完成验证。</p><p>验证完成 ，就可以查看站点，我等了半天 Baidu 也抓不到站点，到处看了一圈发现是 github 屏蔽了Baidu 爬虫，所以需要其他方式。</p><p>首先是把根目录下的 baidusitemap.xml 提交给Baidu平台，不多介绍，自己摸索</p><h2 id="Baidu-自动推送"><a href="#Baidu-自动推送" class="headerlink" title="Baidu 自动推送"></a>Baidu 自动推送</h2><p>于是就手动提交 sitemap 并且开启 hexo next 集成的自动推送链接功能，打开站点主题<code>theme/next/_config.yml</code>文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Enable baidu push so that the blog will push the url to baidu automatically which is very helpful for SEO</span></span><br><span class="line"><span class="attr">baidu_push:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>however~，貌似 uBlock Origin 会拦截 Google Analytics 和 Baidu 自动提交，这就比较悲催了</p><h2 id="hexo-自动提交-Baidu"><a href="#hexo-自动提交-Baidu" class="headerlink" title="hexo 自动提交 Baidu"></a>hexo 自动提交 Baidu</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></table></figure><p>然后修改 hexo 的配置文件，添加 <code>baidu_url_submit:</code> ，并修改 <code>deploy</code></p><p><strong>注意</strong>：本插件的配置文件中包含秘钥， 如果要把 hexo 博客整体放在 github ，需要放在私有仓库。</p><p><strong>注意</strong>：这里 host 里填入的域名是在 Baidu站长平台 添加好的域名</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baidu_url_submit:</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">5</span> <span class="comment">## 提交最新的5个链接</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">blog.tcpsoft.app</span> <span class="comment">## 在百度站长平台中注册的域名</span></span><br><span class="line">  <span class="attr">token:</span> <span class="string">your_token</span> <span class="comment">## 请注意这是您的秘钥， 请不要发布在公众仓库里!</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">baidu_urls.txt</span> <span class="comment">## 文本文档的地址， 新链接会保存在此文本文档里</span></span><br><span class="line">  <span class="comment"># xz_appid: 'xxxxxx' ## 你的熊掌号 appid</span></span><br><span class="line">  <span class="comment"># xz_token: 'xxxxxx' ## 你的熊掌号 token</span></span><br><span class="line">  <span class="comment"># xz_count: 10 ## 从所有的提交的数据当中选取最新的10条,该数量跟你的熊掌号而定</span></span><br></pre></td></tr></table></figure><p>不过我认为熊掌号没什么用，需要的话可以添加</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">https://github.com/XXXX/XXXX</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">type:</span> <span class="string">baidu_url_submitter</span> <span class="comment"># 百度</span></span><br><span class="line"><span class="comment"># - type: baidu_xz_url_submitter # 百度熊掌号</span></span><br></pre></td></tr></table></figure><p>执行hexo deploy的时候，新的链接就会被推送了。</p><p>当你 <code>hexo g -d</code>，看到这个的时候，说明配置成功了</p><p><img src="../../blog-images/2020/hexo-seo/image-20200209224126611.png" alt="image-20200209224126611"></p><h2 id="其他的中国特色搜索引擎"><a href="#其他的中国特色搜索引擎" class="headerlink" title="其他的中国特色搜索引擎"></a>其他的中国特色搜索引擎</h2><p>不说了，想设置Sougou、360、神马可以参考这篇： <a href="https://tding.top/archives/4ea54752.html" rel="external nofollow noopener noreferrer" target="_blank">Hexo-NexT 博客提交搜索引擎收录 | 小丁的个人博客</a></p><h2 id="Bing"><a href="#Bing" class="headerlink" title="Bing"></a>Bing</h2><p>搜索并打开 <a href="https://www.bing.com/toolbox/webmaster/" rel="external nofollow noopener noreferrer" target="_blank">Bing - Webmaster Tools</a>，Bing网站搜索管理。然后登陆微软账号或者 google 账号，看起来像这样：</p><p><img src="../../blog-images/2020/hexo-seo/image-20200209235529136.png" alt="image-20200209235529136"></p><p>由于我已经有了 Google Search Console（第三条提到的），就直接绑定 Google 账号同步数据就可以了。</p><p><img src="../../blog-images/2020/hexo-seo/image-20200209235651847.png" alt="image-20200209235651847"></p><p>点击“继续访问”之后会跳转到 google 登陆，登录之后授权 Bing 就可以了。读取到站点数据，导入。</p><p><img src="../../blog-images/2020/hexo-seo/image-20200209235919325.png" alt="image-20200209235919325"></p><p>然后也需要向 Bing 提交sitemap，同上 Google。</p><h2 id="修改-url-格式"><a href="#修改-url-格式" class="headerlink" title="修改 url 格式"></a>修改 url 格式</h2><blockquote><p>seo搜索引擎优化认为，网站的最佳结构是用户从首页点击三次就可以到达任何一个页面</p></blockquote><p>但是我们使用hexo编译的站点打开文章的url是：sitename/year/mounth/day/title四层的结构，这样的url结构很不利于seo，爬虫就会经常爬不到我们的文章，所以我把url格式改为 sitename/year/mounth/title。</p><p>修改 hexo 配置文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:title/</span></span><br></pre></td></tr></table></figure><h2 id="出站链接-“nofollow”"><a href="#出站链接-“nofollow”" class="headerlink" title="出站链接 “nofollow”"></a>出站链接 “nofollow”</h2><p>外链越多，搜索引擎给此站点的权重就越低，即排位越后。为了提高权重，可以禁止搜索引擎跟进外链，添加 nofollow 属性就可以做到。一个一个页面添加跟定是不现实的，当然是选择用插件。</p><p>先在 hexo 博客根目录安装插件，插件有<code>hexo-autonofollow</code> 和 <code>hexo-filter-nofollow</code> ，filter要好用一些，他们两个的差别可以参考作者的博客：<a href="https://blog.skk.moe/post/hexo-filter-nofollow-joined-hexo-official-plugin/" rel="external nofollow noopener noreferrer" target="_blank">hexo-filter-nofollow - Hexo 官方的 nofollow 插件 | Sukka’s Blog</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-filter-nofollow --save</span><br></pre></td></tr></table></figure><p>编辑 hexo 配置文件，添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">nofollow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span> <span class="comment"># post：仅处理文章内容，site：处理全站所有页面</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'exclude1.com'</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'exclude2.com'</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;害呀，hexo 都做了这么多了，干脆把google 统计一起加上去得了。Google Analytics、Google添加站点，baidu 添加站点、bing 添加站点，通通加上！&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站" scheme="https://blog.tcpsoft.app/categories/%E5%BB%BA%E7%AB%99/"/>
    
    
      <category term="hexo" scheme="https://blog.tcpsoft.app/tags/hexo/"/>
    
      <category term="seo" scheme="https://blog.tcpsoft.app/tags/seo/"/>
    
  </entry>
  
  <entry>
    <title>hexo + gitalk，满满的都是坑。</title>
    <link href="https://blog.tcpsoft.app/2020/02/hexo-with-gitalk/"/>
    <id>https://blog.tcpsoft.app/2020/02/hexo-with-gitalk/</id>
    <published>2020-02-09T03:20:29.000Z</published>
    <updated>2020-02-11T17:53:31.604Z</updated>
    
    <content type="html"><![CDATA[<p>今日看到博客的评论功能，就想整一个，本以为跟前两天添加hexo插件查不多，结果，，爬坑，又掉坑，爬坑又掉坑……<a id="more"></a></p><hr><h3 id="安装gitalk"><a href="#安装gitalk" class="headerlink" title="安装gitalk"></a>安装gitalk</h3><p>安装gitalk没什么，有很多博文有介绍，这里贴一篇就好，修改主题配置的部分很精简，我喜欢。</p><ul><li>参考链接1： <a href="https://yunhao.space/2018/07/04/hexo-next-gitalk-comments-tutor/" rel="external nofollow noopener noreferrer" target="_blank">Hexo NexT 添加 Gitalk评论功能 | Andylmns</a></li></ul><p>注意域名是自己的 github pages 或者自定义域名就好。</p><p>注意每一次发布新文章之后都需要去博客登陆刷新一下评论，插件会在你的 repo 里面新建 issue。</p><p>我之前有篇文章叫《<a href="https://blog.tcpsoft.app/2019/12/29/Hi-Im-Cortana/">Hi, I’m Cortana.</a>》，我点开这个做实验看能不能使用评论功能，原地址是</p><pre>https://blog.tcpsoft.app/2019/12/29/Hi,%20I'm%20Cortana/</pre><hr><h3 id="艰难爬坑"><a href="#艰难爬坑" class="headerlink" title="艰难爬坑"></a>艰难爬坑</h3><p><strong>[ 以下多链接警告，请选择性阅读 ]</strong></p><h4 id="报错：redirect-uri-mismatch"><a href="#报错：redirect-uri-mismatch" class="headerlink" title="报错：redirect_uri_mismatch"></a>报错：redirect_uri_mismatch</h4><ul><li>链接1： <a href="https://blog.csdn.net/liu1340308350/article/details/86304026#commentsedit" rel="external nofollow noopener noreferrer" target="_blank">gitalk报错问题_liuurick的博客-CSDN博客</a></li></ul><p>看了感觉也没啥用，根据指示转到下面这篇，写的比较详细，但是是没有解决问题</p><ul><li>链接2： <a href="https://blog.csdn.net/w47_csdn/article/details/88858343" rel="external nofollow noopener noreferrer" target="_blank">[gitalk] 解决配置gitalk插件后初始化登录时跳转回首页_Bo的博客-CSDN博客</a></li></ul><p>我看了看我的配置，根据前面的指导写的最初的配置是这样子的：</p><p><img src="../../blog-images/2020/hexo-with-gitalk/github-config.png" alt="github-config"></p><h4 id="http-https-的问题？"><a href="#http-https-的问题？" class="headerlink" title="http https 的问题？"></a>http https 的问题？</h4><p>又看了看我的请求 url，确实是都是 https，没有问题啊</p><p>后来又找到这个 gitalk issue 115 和 162，貌似是个很“权威”的解答</p><ul><li>链接3： <a href="https://github.com/gitalk/gitalk/issues/115#event-1539518527">hexo next 主题配置 gitalk 评论后无法初始化创建 issue · Issue #115 · gitalk/gitalk</a></li><li>链接4： <a href="https://github.com/gitalk/gitalk/issues/162">登录报错/?error=redirect_uri_mismatch&amp; · Issue #162 · gitalk/gitalk</a></li></ul><h4 id="加-？"><a href="#加-？" class="headerlink" title="加 / ？"></a>加 / ？</h4><p>好像回调地址里面要加个 <code>/</code> ？加就加吧，然后</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Authorization callback URL:</span><br><span class="line">https:&#x2F;&#x2F;blog.tcpsoft.app&#x2F;</span><br></pre></td></tr></table></figure><p>也不行。仍然跳回主页，并提示 redirect_uri_mismatch </p><p>后来我又尝试了：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;tcpsoftware.github.io</span><br><span class="line">https:&#x2F;&#x2F;tcpsoftware.github.io</span><br><span class="line">http:&#x2F;&#x2F;tcpsoftware.github.io&#x2F;</span><br><span class="line">https:&#x2F;&#x2F;tcpsoftware.github.io&#x2F;</span><br><span class="line">http:&#x2F;&#x2F;blog.tcpsoft.app</span><br><span class="line">https:&#x2F;&#x2F;blog.tcpsoft.app</span><br><span class="line">http:&#x2F;&#x2F;blog.tcpsoft.app&#x2F;</span><br><span class="line">https:&#x2F;&#x2F;blog.tcpsoft.app&#x2F;</span><br><span class="line">tcpsoftware.github.io</span><br><span class="line">tcpsoftware.github.io</span><br><span class="line">blog.tcpsoft.app</span><br><span class="line">blog.tcpsoft.app</span><br></pre></td></tr></table></figure><p>心累</p><p>然后忽然在 issue 162 翻到这个？</p><p><img src="../../blog-images/2020/hexo-with-gitalk/image-20200209140447713.png" alt="image-20200209140447713"></p><h4 id="中文？？！"><a href="#中文？？！" class="headerlink" title="中文？？！"></a>中文？？！</h4><p>🤨</p><p>🤔</p><p> 回头看了看我的 url，貌似并没有中文。</p><pre>https://blog.tcpsoft.app/2019/12/29/Hi,%20I'm%20Cortana/</pre><p>url 编码导致的问题？</p><p>我尝试换一个文章，在上一篇 hexo 里，可了！！它的链接是，</p><pre>https://blog.tcpsoft.app/2020/02/06/hexo-changes/</pre><p>呐，没有 url 编码，没有中文</p><p>🤔</p><p><img src="../../blog-images/2020/hexo-with-gitalk/issue.png" alt="issue"></p><h4 id="编码问题。"><a href="#编码问题。" class="headerlink" title="编码问题。"></a>编码问题。</h4><p>url 里面不要有特殊符号，刚才链接里面完美命中（而且链接看起来很丑可读性很差）</p><p>有特殊符号不能被匹配规则匹配到（像我刚才链接里面的 <code>, &#39;</code>）</p><hr><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p><code>hexo new passage_name</code></p><p>新建文章的时候想好一个优雅的名字，如果遇到符号或者多单词，可以考虑用：</p><h5 id="驼峰式命名法（小驼峰命名法）"><a href="#驼峰式命名法（小驼峰命名法）" class="headerlink" title="驼峰式命名法（小驼峰命名法）"></a>驼峰式命名法（小驼峰命名法）</h5><p><code>hexo new helloImCortana</code></p><h5 id="帕斯卡命名法（大驼峰命名法）"><a href="#帕斯卡命名法（大驼峰命名法）" class="headerlink" title="帕斯卡命名法（大驼峰命名法）"></a>帕斯卡命名法（大驼峰命名法）</h5><p><code>hexo new HelloImCortana</code></p><h5 id="匈牙利命名法（本文无关）"><a href="#匈牙利命名法（本文无关）" class="headerlink" title="匈牙利命名法（本文无关）"></a>匈牙利命名法（本文无关）</h5><p><code>hexo new sHelloImCortana</code></p><p>变量类型+变量名（逃）</p><h5 id="下划线命名法"><a href="#下划线命名法" class="headerlink" title="下划线命名法"></a>下划线命名法</h5><p><code>hexo new hello_Im_Cortana</code></p><h5 id="短横线分隔（Github风格-编程必报错）"><a href="#短横线分隔（Github风格-编程必报错）" class="headerlink" title="短横线分隔（Github风格 编程必报错）"></a>短横线分隔（Github风格 编程必报错）</h5><p><code>hexo new hello-Im-Cortana</code></p><hr><h3 id="再说一句"><a href="#再说一句" class="headerlink" title="再说一句"></a>再说一句</h3><p>（其实上面尝试的那一大堆链接，除了最后四个没有 http https 协议的之外，其他的都是可以的）</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今日看到博客的评论功能，就想整一个，本以为跟前两天添加hexo插件查不多，结果，，爬坑，又掉坑，爬坑又掉坑……
    
    </summary>
    
    
      <category term="建站" scheme="https://blog.tcpsoft.app/categories/%E5%BB%BA%E7%AB%99/"/>
    
    
      <category term="hexo" scheme="https://blog.tcpsoft.app/tags/hexo/"/>
    
      <category term="gitalk" scheme="https://blog.tcpsoft.app/tags/gitalk/"/>
    
  </entry>
  
  <entry>
    <title>hexo 大换血</title>
    <link href="https://blog.tcpsoft.app/2020/02/hexo-changes/"/>
    <id>https://blog.tcpsoft.app/2020/02/hexo-changes/</id>
    <published>2020-02-06T12:17:08.000Z</published>
    <updated>2020-02-11T17:53:20.273Z</updated>
    
    <content type="html"><![CDATA[<p>今天闲来无事，折腾博客（其实是写 gdb 结果得更新一下 hexo ），然后这个博客就大换血了。</p><p>我干了啥呢：<a id="more"></a></p><hr><h2 id="Typora-的图片存放路径"><a href="#Typora-的图片存放路径" class="headerlink" title="Typora 的图片存放路径"></a>Typora 的图片存放路径</h2><p>Typora 的图片存放路径和文章图片 URL 的问题</p><ul><li>参考链接1： <a href="https://blog.csdn.net/qq_43096199/article/details/90642252" rel="external nofollow noopener noreferrer" target="_blank">Typora设置图片存储路径_momorn博客-CSDN博客</a></li><li>参考链接2：<a href="https://cn.bing.com/search?q=typora+设置图片目录&qs=n&form=QBRE&sp=-1&pq=typora+设置tu'pian'mu'lu&sc=0-22&sk=&cvid=A0959CE1255444B0B3F7E20041DC5A24" rel="external nofollow noopener noreferrer" target="_blank">typora 设置图片目录 - 国内版 Bing</a></li></ul><h2 id="hexo-添加主页页面，tags等"><a href="#hexo-添加主页页面，tags等" class="headerlink" title="hexo 添加主页页面，tags等"></a>hexo 添加主页页面，tags等</h2><p>hexo 主页上的 tags、categories、archive、about 等页面，手动添加。</p><ul><li>参考链接1： <a href="https://cn.bing.com/search?q=hexo+next+tag" rel="external nofollow noopener noreferrer" target="_blank">hexo next tag - 国内版 Bing</a></li><li>参考链接2： <a href="https://www.jianshu.com/p/3d2e7b3ec182" rel="external nofollow noopener noreferrer" target="_blank">hexo+next+GitHub搭建静态博客(三)-添加tags和categories - 简书</a></li><li>参考链接3： <a href="https://blog.csdn.net/lijiajun95/article/details/53862528" rel="external nofollow noopener noreferrer" target="_blank">最详细的Hexo Next主题配置教程_Web全栈笔记-CSDN博客</a></li></ul><h2 id="hexo-打赏"><a href="#hexo-打赏" class="headerlink" title="hexo 打赏"></a>hexo 打赏</h2><p>设置 next 主题配置下的 reward_settings，但和文章中说的有些小不同</p><ul><li>参考链接1： <a href="https://cn.bing.com/search?q=next+打赏" rel="external nofollow noopener noreferrer" target="_blank">next 打赏 - 国内版 Bing</a></li><li>参考链接2： <a href="https://blog.csdn.net/lcyaiym/article/details/76796545" rel="external nofollow noopener noreferrer" target="_blank">hexo的next主题打赏_linux,hexo,next_lcyaiym的专栏-CSDN博客</a></li><li>如何生成二维码，略</li></ul><h2 id="hexo-添加版权"><a href="#hexo-添加版权" class="headerlink" title="hexo 添加版权"></a>hexo 添加版权</h2><p>这里我遵循<a href="https://creativecommons.org/licenses/by/4.0/legalcode.zh-Hans" rel="external nofollow noopener noreferrer" target="_blank">知识共享(Creative Commons) 署名 4.0 协议国际版</a>，可以在next主题的 config.yml 里面的 creative_commons 配置</p><ul><li>参考链接1： <a href="https://creativecommons.org/licenses/by/4.0/legalcode.zh-Hans" rel="external nofollow noopener noreferrer" target="_blank">知识共享(Creative Commons) 署名 4.0 协议国际版</a></li></ul><h2 id="hexo-添加版权后链接错误问题"><a href="#hexo-添加版权后链接错误问题" class="headerlink" title="hexo 添加版权后链接错误问题"></a>hexo 添加版权后链接错误问题</h2><p>本来应该是 http:// blog.tcpsoft.app/2020/02/06/hexo-changes/，</p><p>但是变成了 /http:/blog.tcpsoft.app/2020/02/06/hexo-changes/</p><p>所以就手动写了个 js 脚本，添加到 source/js 文件夹，并修改 next 的一个配置文件。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加&lt;script&gt;到 \themes\next\layout\_scripts\index.swig</span></span><br><span class="line"><span class="comment">//&lt;script src="/js/diy.js"&gt;&lt;/script&gt;</span></span><br><span class="line"></span><br><span class="line">link = <span class="built_in">document</span>.getElementsByClassName(<span class="string">"post-copyright-link"</span>)[<span class="number">0</span>].children[<span class="number">1</span>];</span><br><span class="line">href = link.getAttribute(<span class="string">"href"</span>).replace(<span class="string">"/http:/"</span>,<span class="string">"http://"</span>);</span><br><span class="line">link.setAttribute(<span class="string">"href"</span>,href);</span><br></pre></td></tr></table></figure><h2 id="解决了显示混乱问题"><a href="#解决了显示混乱问题" class="headerlink" title="解决了显示混乱问题"></a>解决了显示混乱问题</h2><p>我之前的博客迁移，导致了显示混乱问题（即我已有 css 而 hexo 又给我加上一套主题的显示方案），此处用 hexo 的 skip_render 设置即可，不过要匹配文件文件夹还是有点小坑的 [坑爹预警]</p><ul><li>参考链接1： <a href="https://cn.bing.com/search?q=skip_render" rel="external nofollow noopener noreferrer" target="_blank">skip_render - 国内版 Bing</a></li><li>参考链接2（有坑）：<a href="https://www.maoxuner.cn/2017/03/10/hexo-skip-render.html" rel="external nofollow noopener noreferrer" target="_blank">Hexo渲染时排除部分文件或目录 - 二次元の技术宅</a></li><li>参考链接3： <a href="https://github.com/hexojs/hexo/issues/1146">如何不处理source目录下某个子目录的所有文件，仅仅是将其copy到public目录中对应目录？ · Issue #1146 · hexojs/hexo  Github.com</a></li><li>参考链接4： <a href="https://github.com/hexojs/hexo/issues/1333">无论skip_render如何设置都无法跳过source目录下的某个js文件目录，生成出错 · Issue #1333 · hexojs/hexo  Github.com</a></li></ul><h2 id="博客-CDN-加速"><a href="#博客-CDN-加速" class="headerlink" title="博客 CDN 加速"></a>博客 CDN 加速</h2><p>看了百度云加速，知道创宇云加速，cloud flare，暂时还是不弄了，现阶段博客是基于 GitHub Pages + Hexo ，图片使用腾讯云存储。后期可能考虑加 CDN <del>或整站迁移腾讯云存储（因域名无法备案及COS网站的处理问题已放弃此方案）</del>。</p><h2 id="sitemap-功能"><a href="#sitemap-功能" class="headerlink" title="sitemap 功能"></a>sitemap 功能</h2><p>hexo、next 主题的 sitemap 功能，帮助搜索引擎收录站点（不用修改 hexo 配置文件）<br>注：这些 npm 命令都是在本地博客根目录下执行，下同</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><ul><li>参考链接1： <a href="https://cn.bing.com/search?q=hexo+next+sitemap" rel="external nofollow noopener noreferrer" target="_blank">hexo next sitemap - 国内版 Bing</a></li><li>参考链接2： <a href="https://www.jianshu.com/p/ab44b916a8b6" rel="external nofollow noopener noreferrer" target="_blank">Hexo 博客添加百度sitemap - 简书</a></li><li>参考链接3： <a href="https://www.jianshu.com/p/9c2d6db2f855" rel="external nofollow noopener noreferrer" target="_blank">hexo(3)-生成sitemap站点地图 - 简书</a></li></ul><h2 id="RSS-订阅功能"><a href="#RSS-订阅功能" class="headerlink" title="RSS 订阅功能"></a>RSS 订阅功能</h2><p>（不用修改 hexo 配置文件）（修改next主题配置以显示按钮）</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"/themes/next/_config.yml"</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">......</span></span><br><span class="line">  <span class="attr">rss:</span> <span class="string">/atom.xml</span></span><br></pre></td></tr></table></figure><ul><li>参考链接1： <a href="https://blog.csdn.net/u010820857/article/details/82086232" rel="external nofollow noopener noreferrer" target="_blank">hexo 安装 sitemap 和 <strong>rss</strong>_hexo 安装 sitemap 和 <strong>rss</strong>,hexo,hexo sitemap _hiekay的博客-CSDN博客</a></li></ul><h2 id="站点搜索功能"><a href="#站点搜索功能" class="headerlink" title="站点搜索功能"></a>站点搜索功能</h2><p>安装插件，然后修改 next 配置文件，，，</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure><ul><li>参考链接1： <a href="https://www.cnblogs.com/syd192/p/6074323.html" rel="external nofollow noopener noreferrer" target="_blank">Hexo的Next主题配置 - syd192 - 博客园</a></li><li>参考链接2： <a href="https://blog.csdn.net/lijing742180/article/details/87970909" rel="external nofollow noopener noreferrer" target="_blank">Hexo Next 主题中添加本地搜索功能_hexo,next主题,next 搜索_媛测-CSDN博客</a></li></ul><h2 id="相关文章推荐"><a href="#相关文章推荐" class="headerlink" title="相关文章推荐"></a>相关文章推荐</h2><p>同样的，安装插件，修改配置</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-related-popular-posts --save</span><br></pre></td></tr></table></figure><p>参考链接1： <a href="https://www.chingow.cn/posts/e0970dc8.html" rel="external nofollow noopener noreferrer" target="_blank">Hexo+NexT(v7.0+) 搭建博客：功能强化 | Chingow’s Blog</a></p><h2 id="文章字数统计和阅读时间估计"><a href="#文章字数统计和阅读时间估计" class="headerlink" title="文章字数统计和阅读时间估计"></a>文章字数统计和阅读时间估计</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure><p>参考链接1： <a href="https://victoryofymk.github.io/2018/10/23/Hexo个性化next主题/" rel="external nofollow noopener noreferrer" target="_blank">o(五)：个性化 next theme | 执行者的博客</a></p><h2 id="社交按钮"><a href="#社交按钮" class="headerlink" title="社交按钮"></a>社交按钮</h2><p>参考链接1： <a href="https://victoryofymk.github.io/2018/10/23/Hexo个性化next主题/" rel="external nofollow noopener noreferrer" target="_blank">o(五)：个性化 next theme | 执行者的博客</a></p><h2 id="阅读进度"><a href="#阅读进度" class="headerlink" title="阅读进度"></a>阅读进度</h2><p>设置 next 主题配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">reading_progress:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="hexo-设置阅读全文"><a href="#hexo-设置阅读全文" class="headerlink" title="hexo 设置阅读全文"></a>hexo 设置阅读全文</h2><p>其实也和文章的有点不一样，可能是因为 next 版本不一样，我设置的是 next 配置文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Automatically excerpt description in homepage as preamble text.</span></span><br><span class="line"><span class="attr">excerpt_description:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Read more button</span></span><br><span class="line"><span class="comment"># If true, the read more button will be displayed in excerpt section.</span></span><br><span class="line"><span class="attr">read_more_btn:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>参考链接1： <a href="https://www.jianshu.com/p/78c218f9d1e7" rel="external nofollow noopener noreferrer" target="_blank">Hexo-设置阅读全文 - 简书</a></p><h2 id="修改标签样式"><a href="#修改标签样式" class="headerlink" title="修改标签样式"></a>修改标签样式</h2><p>只需要修改模板<code>/themes/next/layout/_macro/post.swig</code>，搜索 <code>rel=&quot;tag&quot;&gt;#</code>，将 # 换成<code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code> 。（好像改了更丑了，后来改回来了）</p><p>参考链接1： <a href="https://blog.csdn.net/nightmare_dimple/article/details/86661502" rel="external nofollow noopener noreferrer" target="_blank">Hexo博客优化之Next主题美化_huangpiao-CSDN博客</a> </p><h2 id="设置博客底部布局"><a href="#设置博客底部布局" class="headerlink" title="设置博客底部布局"></a>设置博客底部布局</h2><p>参考链接1： <a href="https://blog.csdn.net/nightmare_dimple/article/details/86661502" rel="external nofollow noopener noreferrer" target="_blank">Hexo博客优化之Next主题美化_huangpiao-CSDN博客</a> </p><h2 id="设置代码样式"><a href="#设置代码样式" class="headerlink" title="设置代码样式"></a>设置代码样式</h2><p>没有改，后面需要再说</p><p>参考链接1： <a href="https://blog.csdn.net/nightmare_dimple/article/details/86661502" rel="external nofollow noopener noreferrer" target="_blank">Hexo博客优化之Next主题美化_huangpiao-CSDN博客</a> </p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>终于配置完了，要死，（其实我是想写点 gdb 的来着？）</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天闲来无事，折腾博客（其实是写 gdb 结果得更新一下 hexo ），然后这个博客就大换血了。&lt;/p&gt;
&lt;p&gt;我干了啥呢：
    
    </summary>
    
    
      <category term="建站" scheme="https://blog.tcpsoft.app/categories/%E5%BB%BA%E7%AB%99/"/>
    
    
      <category term="hexo" scheme="https://blog.tcpsoft.app/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hi, I&#39;m Cortana.</title>
    <link href="https://blog.tcpsoft.app/2019/12/Hi-Im-Cortana/"/>
    <id>https://blog.tcpsoft.app/2019/12/Hi-Im-Cortana/</id>
    <published>2019-12-29T05:42:28.000Z</published>
    <updated>2020-02-11T17:53:34.830Z</updated>
    
    <content type="html"><![CDATA[<p>2020即将来临了，作为群贫困人口，在2019年再来看各位群友最后一面</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;2020即将来临了，作为群贫困人口，在2019年再来看各位群友最后一面&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="none" scheme="https://blog.tcpsoft.app/categories/none/"/>
    
    
      <category term="none" scheme="https://blog.tcpsoft.app/tags/none/"/>
    
  </entry>
  
</feed>
